
# 因端口冲突问题导致安装失败的问题

## 问题现象

以资源池化一主一备环境为例，介绍因端口冲突导致安装失败的问题。

主节点`IP`为`A.B.C.D`，备节点`IP`为`E.F.G.H`，端口号均为`xxx`。
在进行数据库安装的过程中会有如下报错信息：

```shell
Checking instance port and IP
[GAUSS-50601] : The port [xxx] is occupied or the ip address is incorrectly configured.
```

## 定位方法

可使用`lsof -i:[port]`命令寻找占用端口进程，在`xml`文件中，修改为不冲突的端口号即可。

## 问题根因

在安装过程中，需要给各个组件分配相应的端口用于`socket`通信，若出现端口被占用，会导致数据库安装失败。
因此，在数据库安装的过程中，请保证端口独立，不与其他进程混用、不使用默认端口号。

## 解决方案

对于该问题，使用`lsof -i: [port]`命令寻找占用端口的进程，再进入到`xml`文件中，修改相应的端口号不冲突即可。

备注：由于`xml`文件中会有多个端口号，尽量让它们之间离得稍远一些，避免端口距离过近导致安装失败（个别组件会占有一段连续的端口号）。