# 版本介绍

openGauss 5.1.0是openGauss 2023年发布的Preview版本，该版本生命周期为0.5年。当前文档说明范围仅限企业版。

5.1.0与之前的版本特性功能保持兼容，主要功能如下：

- 继承功能：

  -   基础功能：SQL标准语法、数据类型(包括json和jsonb)、表\(包括临时表、全局临时表、外部表\)、视图、物化视图、外键、索引\(包括btree索引、Gin索引、hash索引\)、序列、函数、触发器、聚合函数median、ROWNUM、UPSERT、GB18030字符集。
  -   SQL引擎增强：范围分区、LIST分区、HASH分区、基于范围分区的自动扩展分区、全局分区索引、行存转向量化、自治事务、并行查询、Global Syscache、Global PlanCache、IPv6协议、postgis插件、事件触发器。
  -   存储引擎增强：延迟备库、备机支持逻辑复制、并行逻辑解码、灰度升级、指定节点升级、Hash索引、列存表主键唯一约束、Ustore存储引擎、段页式存储、发布订阅、行存表压缩、MOT内存表、NUMA-aware高性能优化等。
  -   资源池化：基于存储池化、内存池化和计算池化实现的openGauss 三层池化架构。
  -   存储过程：存储过程、存储过程内commit/rollback、存储过程调试。
  -   安全功能：认证、权限管理、网络通信安全、数据库审计、全密态数据库、动态数据脱敏、国密算法、防篡改账本数据库、内置角色和权限管理、透明加密、ANY权限管理、用户级别审计等。
  -   高可用：主备双机、级联备机、逻辑复制、极致RTO、备机扩容、基于Paxos分布式一致性协议（DCF）、两地三中心跨Region容灾。
  -   AI4DB：参数自调优、慢SQL发现、AI查询时间预测、数据库指标采集预测与异常监控、异常检测自配置、DBMind自治运维平台、智能优化器、智能索引推荐。
  -   DB4AI：deepSQL库内AI算法、库内AI算法支持XGBoost、multiclass和PCA。
  -   备份恢复：全量物理备份、逻辑备份、备机备份、增量备份和恢复、恢复到指定时间点\(PITR\)。
  -   运维能力：WDR诊断报告新增数据库运行指标、备机慢SQL诊断视图、unique sql自动淘汰。
  -   JDBC：支持JDBC客户端负载均衡及读写分离、主节点心跳检测。
  -   集群管理：支持CM集群管理，CM支持自定义资源监控、支持VIP管理、支持两节点部署，支持对外状态查询和推送能力。
  -   工具链：开发工具DataStudio、MySQL全量迁移工具gs_mysync、增量和反向迁移工具gs_replicate、数据校验工具gs_datacheck、数据全生命周期生产工具DataKit。
  -   中间件：shardingSphere、openLookeng。
  -   周边生态：dblink；支持openEuler、CentOS、FusionOS系统；绝大部分MySQL语法和协议兼容。
  -   其他：cmake脚本编译、容器化部署、kubernetes。

- 新增功能：
  - 高性能：支持shared buffer按大页内存分配，实现4k pagesize环境中性能提升5%
  - 高性能：内核GCC版本升级到GCC 10.3，基于反馈优化，TPCC性能提升6%
  - 高性能：SCRLock提高分布式锁性能。
  - 高可用：并行回放性能优化，TPCC场景备机redo性能提升50%~100%
  - 高可用：极致RTO支持备机可读，维持一主一备70W tpmC时，RTO<10s
  - 高可用：主备高可用能力增强
  - 高安全：支持第三方密钥管理服务
  - 高智能：慢SQL根因分析优化，增强输出结论
  - 可维护性：慢SQL统计时间空洞补齐，支持细粒度阶段统计
  - 可维护性：支持switchover超时打印节点堆栈
  - 资源池化：优化备机可见性判断逻辑、优化主机推进oldestxmin逻辑、备机支持缓存快照信息，实现sysbench场景2节点性能6W tps，线性度1.6倍，相比优化前提升50%
  - 资源池化：支持备机事务内写语句透明转发到主机执行
  - 资源池化：DSS功能增强，支持NoF/NoF+协议；支持线程池模式，支持大并发处理；支持升级模式；支持黑匣子诊断
  - 资源池化：对接分布式存储，实现数据库算子卸载，加速TPCH性能提升40%
  - 企业级特性：支持修改表压缩属性
  - 企业级特性：UWAL（Unified Write-Ahead Log）实现数据库WAL（Write-Ahead Log）性能加速。

  - 企业级特性：子事务并发回滚流程优化，减少锁争抢，提升并发执行效率
  - 企业级特性：支持GB18030-2022标准
  - 企业级特性：存储过程支持嵌套调试，支持匿名块调试
  - 企业级特性：发布订阅支持用户自定义冲突解决方案
  - 内核工具：支持升级场景数据字典校验工具
  - 内核工具：OM工具解耦对OS版本依赖
  - DataKit：支持实例监控插件和智能诊断插件，实现SQL、会话、实例和集群指标监控，支持历史数据分析与SQL诊断、告警监控和告警通知，提升智能运维能力。
  - DataKit：数据库开发插件增强，支持表/视图/用户角色/函数/存储过程等对象管理
  - 迁移工具：MySQL全量迁移：支持直接读取csv文件用于数据迁移，索引并行创建，解除跨平台的依赖，可靠性增强
  - 迁移工具：MySQL增量&反向迁移：支持断点续传，支持迁移进度展示，反向迁移支持全量迁移
  - 迁移工具：数据校验：支持按表分片校验，增强和全量迁移流程的配合，提升校验性能到150MB/s
  - 兼容性：SQL引擎解耦化，实现A兼容性模式基础插件whale
  - 兼容性：MySQL语法兼容性增强，完善数据类型转换、操作符、系统函数、系统视图、字符集/字符序、存储过程兼容性
  - 兼容性：支持MySQL协议兼容

