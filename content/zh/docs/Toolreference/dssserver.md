# dssserver<a name="ZH-CN_TOPIC_0000001375274965"></a>

## 背景信息<a name="zh-cn_topic_0287276000_zh-cn_topic_0237152404_zh-cn_topic_0059777816_section2761723143810"></a>

dssserver是独立进程，直接管理磁阵裸设备，并对外提供类似分布式文件系统的能力。通过共享内存和客户端API动态库，为数据库提供创建文件、删除文件、扩展和收缩文件、读写文件的能力。也是一个可执行的命令，能够通过其启动一个dssserver进程。

## 语法<a name="section1366329102015"></a>

启动dssserver进程

```
dssserver -D $DSS_HOME
```

## 参数说明<a name="zh-cn_topic_0287276000_zh-cn_topic_0237152404_zh-cn_topic_0059777816_s2298a1889844418daec3743b9a4b57fb"></a>

dssserver作为一个独立的进程，在启动之前需要提供配置文件dss\_inst.ini，相关的配置参数整理如下：

-   LSNR\_PATH

    **参数说明：**dssserver进程需要的socket文件路径。

    **取值范围：**字符串。

    **默认值：**$DSS\_HOME

-   LOG\_HOME

    **参数说明：**日志路径。

    **取值范围：**字符串类型。

    **默认值：**""

-   \_LOG\_BACKUP\_FILE\_COUNT

    **参数说明：**日志文件最多保留的个数。

    **取值范围：**整型，0\~1024。

    **默认值：**10

-   \_LOG\_MAX\_FILE\_SIZE

    **参数说明：**单个日志文件最大大小。

    **取值范围：**整型 , \[1M,4G\]。

    **默认值：**10M

-   INST\_ID

    **参数说明：**实例号，每个主备下的dssserver进程各不相同。

    **取值范围：**整型，0\~63。

    **默认值：**0

-   STORAGE\_MODE

    **参数说明：**DSS对应的存储设备类型，磁阵的话配置为RAID或者CLUSTER\_RAID。

    **取值范围：**字符串。

    **默认值：**DISK

-   \_LOG\_LEVEL

    **参数说明**：日志级别。

    **取值范围：**整型，0\~4087。

    **默认值：7**

-   MAX\_SESSION\_NUMS

    **参数说明：**最大的会话连接数量。

    **取值范围：**整型，\[16,16320\]。

    **默认值：**8192

-   DISK\_LOCK\_INTERVAL

    **参数说明：**磁盘锁加锁超时时间。

    **取值范围：**整型，1\~600000, 单位：毫秒。

    **默认值：**100

-   DLOCK\_RETRY\_COUNT

    **参数说明：**磁盘加锁重试次数。

    **取值范围：**整型，1\~500000。

    **默认值：**50

-   \_AUDIT\_BACKUP\_FILE\_COUNT

    **参数说明：**审计备份文件个数。

    **取值范围：**整型，0\~1024。

    **默认值：**10

-   \_AUDIT\_MAX\_FILE\_SIZE

    **参数说明：**审计备份文件最大大小。

    **取值范围：**整型，1M\~4G。

    **默认值：**10M

-   \_LOG\_FILE\_PERMISSIONS

    **参数说明：**日志文件权限。

    **取值范围：**整型，600\~777。

    **默认值：**600

-   \_LOG\_PATH\_PERMISSIONS

    **参数说明：**日志路径权限。

    **取值范围：**整型，700\~777。

    **默认值：**700

-   \_SHM\_KEY

    **参数说明：**共享内存KEY。

    **取值范围：**整型，1\~64。

    **默认值：**1

-   DSS\_NODES\_LIST

    **参数说明：**dssserver节点之间mes通信url。

    **取值范围：**字符串。格式为 inst\_Id：ip：port，inst\_Id：ip：port..........

    **默认值：**0:127.0.0.1:1611

-   INTERCONNECT\_TYPE

    **参数说明：**通信协议类型。

    **取值范围：**字符串，TCP/RDMA。

    **默认值：**TCP

-   INTERCONNECT\_CHANNEL\_NUM

    **参数说明：**内部通信mes链接通道个数。

    **取值范围：**整型，1\~32。

    **默认值：**2

-   WORK\_THREAD\_COUNT

    **参数说明：**内部通信mes工作线程数量。

    **取值范围：**整型，2\~64。

    **默认值：**2

-   RECV\_MSG\_POOL\_SIZE

    **参数说明：**消息接收内存池大小。

    **取值范围：**整型，1M\~1G。

    **默认值：**16M

-   MES\_ELAPSED\_SWITCH

    **参数说明：**内部通信mes统计计数时延开关。

    **取范围：**布尔型，FALSE/TRUE。TRUE表示当前开启mes通信计数统计时延，FALSE表示不开启。

    **默认值：**FALSE

-   DISK\_LOCK\_FILE\_PATH

    **参数说明**：STORAGE\_MODE为DISK时，所用锁的文件保存路径。

    **取值范围：**字符串。

    **默认值：**$DSS\_HOME

-   SSL\_CA

    **参数说明：**CA服务器的根证书。

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_KEY

    **参数说明：**指定服务器私钥文件，用以对公钥加密的数据进行解密。

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_CRL

    **参数说明：**证书吊销列表。

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_CERT

    **参数说明：**指定服务器证书文件，包含服务器端的公钥。

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_CIPHER

    **参数说明：**SSL通讯使用的加密算法**。**

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_PWD\_CIPHERTEXT

    **参数说明：**私钥密码**。**

    **取值范围：**字符串。

    **默认值：""**

-   SSL\_CERT\_NOTIFY\_TIME

    **参数说明：**SSL服务器证书到期前提醒的天数。

    **取值范围：**整型，7\~180。

    **默认值：**30

-   POOL\_NAMES

    **参数说明：**存储池配置。

    **取值范围：**字符串。

    **默认值：""**

-   IMAGE\_NAMES

    **参数说明：**image配置。

    **取值范围：**字符串。

    **默认值：**空

-   CEPH\_CONFIG

    **参数说明：**ceph集群配置文件。

    **取值范围：**字符串。

    **默认值：**“/etc/ceph/ceph.conf”

-   VOLUME\_TYPES

    **参数说明：**卷类型。

    **取值范围：**字符串。

    **默认值：""**

-   DSS\_CM\_SO\_NAME

    **参数说明：**cm的二进制文件名。

    **取值范围：**字符串。

    **默认值：""**


