# MOT恢复

MOT恢复的主要目标是在有计划停机（例如维护）或计划外崩溃（例如电源故障后）后，将数据和MOT引擎恢复到一致状态。

MOT恢复是随着openGauss数据库其余部分的恢复而自动执行的，并且完全集成到openGauss恢复过程（也称为冷启动）。

MOT恢复包括两个阶段：

检查点恢复：必须通过将数据加载到内存行并创建索引，从磁盘上的最新检查点文件恢复数据。

WAL重做日志恢复：从检查点恢复中使用检查点后，必须通过重放之后添加到日志中的记录，从WAL重做日志中恢复最近的数据（在检查点中未捕获）。

openGauss管理和触发WAL重做日志恢复。

为了缩短RTO（故障切换事件的备节点恢复）并加快冷启动，MOT引擎支持重做日志恢复和检查点恢复的进程并行。
-   配置parallel_recovery_workers和parallel_recovery_queue_size以更改重做日志恢复（日志回放）并行工作方式。此设置将影响RTO。
-   配置checkpoint_recovery_workers以更改检查点恢复并行工作方式。此设置主要影响冷启动时间。

更多说明和默认值，参见[恢复（MOT）](MOT配置.md#section7442447103115)。
