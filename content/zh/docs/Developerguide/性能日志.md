# 性能日志

性能日志主要关注外部资源的访问性能问题。

性能日志指的是数据库系统在运行时检测物理资源的运行状态的日志，在对外部资源进行访问时的性能检测，包括磁盘、OBS等外部资源的访问检测信息。openGauss不支持OBS、Hadoop，所以只有磁盘访问的监控信息。

磁盘监控的访问信息主要在磁盘文件IO读写的时候进行统计。例如，拷贝文件时的读文件IO，正常SQL执行时访问OS表文件的pread系统调用。

在出现性能问题时，可以借助性能日志及时定位问题发生的原因，能极大地提升问题解决效率。

-   日志文件存储路径

    性能日志目录在“$GAUSSLOG/gs\_profile”中各自对应的目录下。

-   日志文件命名格式

    性能日志的命名规则：postgresql-创建时间.prf

    默认情况下，每日0点或者日志文件大于20MB或者数据库实例（CN、DN）重新启动后，会生成新的日志文件。

-   日志内容说明

    每一行日志内容的默认格式：主机名称+日期+时间+实例名称+线程号+日志内容。


## 性能日志收集的配置参数<a name="section190710281529"></a>

-   logging\_collector：该参数控制是否开启日志收集功能。默认值为on，表示开启日志收集功能。
-   plog\_merge\_age：控制性能日志数据输出的周期，即多久进行一次性能日志汇聚，单位为毫秒。默认值为3s。

    当logging\_collector参数为on，plog\_merge\_age大于0，且主机正常运行时，恢复过程不进行性能收集。
