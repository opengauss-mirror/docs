# SQLdiag：慢SQL发现<a name="ZH-CN_TOPIC_0289900849"></a>

SQLdiag是openGauss中SQL语句执行时长预测工具。现有的预测技术主要基于执行计划的预测方法，但这些预测方案仅适用于OLAP场景且可以获取执行计划的任务，对于OLTP或者HTAP这样的快速、简单查询是没有太多使用价值的。与上述方案不同，SQLdiag着眼于数据库的历史SQL语句，通过对历史SQL语句的执行表现进行总结归纳，将之再用于推断新的未知业务上。由于短时间内数据库SQL语句执行时长不会有太大的差距，SQLdiag可以从历史数据中检测出与已执行SQL语句相似的语句结果集，并基于SQL向量化技术通过SQL模板化和深度学习这两种方法来预测SQL语句执行时长。本工具有如下优点：

1.  不需要SQL语句的执行计划，对数据库性能不会有任何的影响。
2.  使用场景广泛，目前业内的很多算法局限性比较高，比如只适用于OLTP或者OLAP，而SQLdiag使用场景广泛。
3.  该工具容易理解，只需要简单的操作，就可以训练出自己的预测模型。

本工具的典型应用场景是对一批即将上线的SQL语句进行透视，提前识别风险。

-   **[概述](概述-16.md)**  

-   **[使用指导](使用指导-17.md)**  

-   **[获取帮助](获取帮助-18.md)**  

-   **[命令参考](命令参考-19.md)**  

-   **[常见问题处理](常见问题处理-20.md)**  


