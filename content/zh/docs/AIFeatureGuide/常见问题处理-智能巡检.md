# 常见问题处理<a name="ZH-CN_TOPIC_0000002259758192"></a>

-   月报与周报生成基于日报：如果未构建日报，则无法生成周报与月报；当日报数量不满足连续7天时，无法生成这7天对应的周报；当日报数量不满足连续14天以上时，无法生成对应的月报。此外，周报和月报的生成基于实例，比如出现实例IP和port的变化，会导致周报/月报无法生成；比如节点实例被删除，会导致周报/月报无法生成。采用定时方式生成周报和月报时，建议控制并发量，避免影响实时任务。配置文件中需要将实例的ip映射关系写到ip\_map中，否则无法保证巡检结果的实例为管理IP。
-   周报和月报仅支持所有巡检项的巡检，不支持部分巡检项的拼接；因此周报和月报的自定义阈值需要由前端传入，规则与实时巡检等一致，没有传入的巡检项默认不进行告警（除了部分由前端控制的巡检项，见[11.3.8.2-使用指导](使用指导-30.md#zh-cn_topic_0000001714949077_li6465181172317)）
-   调用巡检接口时需要传递实例，该实例需要为数据库实例主节点实例，否则在节点出现异常时无法返回所有节点的巡检结果。
-   智能巡检中db\_size、buffer\_hit\_rate、db\_tmp\_file、db\_deadlock、db\_transaction等巡检项仅展示主节点的数据库结果，如果出现主备切换等主节点切换的情况，可能出现结果跳变（不同节点的结果拼接）。
-   智能巡检中db\_size、buffer\_hit\_rate、db\_transaction、db\_tmp\_file、db\_deadlock等巡检项仅展示主节点的数据库结果；user\_login\_out、db\_latency、thread\_pool等巡检项展示所有节点的结果；xlog\_accumulate巡检项展示所有节点的结果。
-   log\_error\_check和core\_dump两个巡检项防止遗漏关键信息，在实时巡检时仅支持45小时内数据；其他巡检项不能超过TSDB数据存储范围。

