# 管道函数<a name="ZH-CN_TOPIC_0000001152075194"></a>

## 可获得性<a name="section1578164915346"></a>

本特性自openGauss 6.0.0版本开始引入。

## 特性简介<a name="section453910524113"></a>

管道函数是可以返回行集合（可以是嵌套表或数组）的函数，您可以像查询物理表一样查询函数或者将其赋值给集合变量。

## 客户价值<a name="section19542151111420"></a>

满足客户多样化使用场景。

## 特性描述<a name="section1432812196412"></a>

管道函数在处理大量数据时非常有用，因为它可以逐步返回数据，而不需要一次性返回所有结果，从而提高查询性能和开发效率。

## 特性增强<a name="section8921173620416"></a>

无。

## 特性约束<a name="section879914581415"></a>

-   管道函数必须是独立函数或包函数。
-   不能为嵌套函数或SQL宏指定PIPLINED。
-   管道函数返回的类型必须是schema级别或者package内定义的集合类型。目前支持Array和TableOf类型。
-   返回类型必须与表类型显式一致。
-   当存在大批量数据需要处理时，执行性能可能会变差，可以通过提升work_mem缓解性能问题。
-   目前对TableOf实现为数组形式，如果管道函数作为targetlist，返回结果虽然是TableOf类型，但是实际访问能力缺失。

## 依赖关系<a name="section1863816308478"></a>

无。

