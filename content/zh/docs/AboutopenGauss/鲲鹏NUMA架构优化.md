# 鲲鹏NUMA架构优化

## 可获得性<a name="section1820817472142"></a>

本特性自openGauss 1.0.0版本开始引入。

## 特性简介<a name="section595916321417"></a>

鲲鹏NUMA架构优化，主要面向鲲鹏处理器架构特点、ARMv8指令集等，进行相应的系统优化，涉及到操作系统、软件架构、锁并发、日志、原子操作、Cache访问等一系列的多层次优化，从而大幅提升了openGauss数据库在鲲鹏平台上的处理性能。

## 客户价值<a name="section1889785041315"></a>

数据库的处理性能，例如每分钟处理交易量（Transaction Per Minute），是数据库竞争力的关键性能指标，在同等硬件成本的条件下，数据库能提供的处理性能越高，就可以提供给用户更多的业务处理能力，从而降低客户的使用成本。

## 特性描述<a name="section3050790"></a>

-   openGauss根据鲲鹏处理机的多核NUMA架构特点，进行一系列针对性NUMA架构相关优化。一方面尽量减少跨核内存访问的时延问题，另一方面充分发挥鲲鹏多核算力优势，所提供的关键技术包括重做日志批插、热点数据NUMA分布、CLog分区等，大幅提升TP系统的处理性能。
-   openGauss基于鲲鹏芯片所使用的ARMv8.1架构，利用LSE扩展指令集实现高效的原子操作，有效提升CPU利用率，从而提升多线程间同步性能、XLog写入性能等。
-   openGauss基于鲲鹏芯片提供的更宽的L3缓存cacheline，针对热点数据访问进行优化，有效提高缓存访问命中率，降低Cache缓存一致性维护开销，大幅提升系统整体的数据访问性能。
-   鲲鹏920，2P服务器（64cores\*2，内存768 GB），网络10 GE，IO为4块NVME PCIE SSD时，TPCC为1000warehouse，性能是150万tpmC。

## 特性增强<a name="section27457110"></a>

-   支持重做日志批插，分区CLog，提升鲲鹏平台下的数据库处理性能。
-   支持LSE扩展指令集的原子操作，提升多线程同步性能。

## 特性约束<a name="section06531946143616"></a>

无。

## 依赖关系<a name="section45787398"></a>

无。

