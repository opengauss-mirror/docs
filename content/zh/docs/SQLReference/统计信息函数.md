# 统计信息函数<a name="ZH-CN_TOPIC_0289900249"></a>

统计信息函数根据访问对象分为两种类型：针对某个数据库进行访问的函数，以数据库中每个表或索引的OID作为参数，标识需要报告的数据库；针对某个服务器进行访问的函数，以一个服务器进程号为参数，其范围从1到当前活跃服务器的数目。

-   pg\_stat\_get\_db\_conflict\_tablespace\(oid\)

    描述：由于恢复与数据库中删除的表空间发生冲突而取消的查询数。

    返回值类型：bigint

-   pg\_control\_group\_config

    描述：在当前节点上打印cgroup配置。

    返回值类型：record

-   pg\_stat\_get\_db\_stat\_reset\_time\(oid\)

    描述：上次重置数据库统计信息的时间。首次连接到每个数据库期间初始化为系统时间。当您在数据库上调用pg\_stat\_reset以及针对其中的任何表或索引执行pg\_stat\_reset\_single\_table\_counters时，重置时间都会更新。

    返回值类型：timestamptz

-   pg\_stat\_get\_function\_total\_time\(oid\)

    描述：该函数花费的总挂钟时间，以微秒为单位。包括花费在此函数调用其它函数上的时间。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_returned\(oid\)

    描述：当前事务中参数为表时通过顺序扫描读取的行数，或参数为索引时返回的索引条目数。

    返回值类型：bigint

-   pg\_lock\_status\(\)

    描述：查询打开事务所持有的锁信息，所有用户均可执行该函数。

    返回值类型：返回字段可参考PG\_LOCKS视图返回字段，该视图是通过查询本函数得到的结果。

-   pg\_stat\_get\_xact\_numscans\(oid\)

    描述：当前事务中参数为表时执行的顺序扫描次数，或参数为索引时执行的索引扫描次数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_blocks\_fetched\(oid\)

    描述：当前事务中对表或索引的磁盘块获取请求数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_blocks\_hit\(oid\)

    描述：当前事务中对缓存中找到的表或索引的磁盘块获取请求数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_function\_calls\(oid\)

    描述：在当前事务中调用该函数的次数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_function\_self\_time\(oid\)

    描述：在当前事务中仅花费在此函数上的时间，不包括花费在此函数内部调用其它函数上的时间。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_function\_total\_time\(oid\)

    描述：当前事务中该函数所花费的总挂钟时间（以微秒为单位），包括花费在此函数内部调用其它函数上的时间。

    返回值类型：bigint

-   pg\_stat\_get\_wal\_senders\(\)

    描述：在主机端查询walsender信息。

    返回值类型：setofrecord

    返回字段说明如下：

    **表 1**  返回字段说明

    <a name="zh-cn_topic_0283136951_table4851182894313"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row1785310288438"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p12853128154310"><a name="zh-cn_topic_0283136951_p12853128154310"></a><a name="zh-cn_topic_0283136951_p12853128154310"></a>字段名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p19853828194315"><a name="zh-cn_topic_0283136951_p19853828194315"></a><a name="zh-cn_topic_0283136951_p19853828194315"></a>字段类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p585415284435"><a name="zh-cn_topic_0283136951_p585415284435"></a><a name="zh-cn_topic_0283136951_p585415284435"></a>字段说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row8854102818434"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p178545286432"><a name="zh-cn_topic_0283136951_p178545286432"></a><a name="zh-cn_topic_0283136951_p178545286432"></a>pid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p198541028184313"><a name="zh-cn_topic_0283136951_p198541028184313"></a><a name="zh-cn_topic_0283136951_p198541028184313"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p58547281439"><a name="zh-cn_topic_0283136951_p58547281439"></a><a name="zh-cn_topic_0283136951_p58547281439"></a>walsender的线程号。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1685432854317"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p78541228174318"><a name="zh-cn_topic_0283136951_p78541228174318"></a><a name="zh-cn_topic_0283136951_p78541228174318"></a>sender_pid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p385432814435"><a name="zh-cn_topic_0283136951_p385432814435"></a><a name="zh-cn_topic_0283136951_p385432814435"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p9855202814433"><a name="zh-cn_topic_0283136951_p9855202814433"></a><a name="zh-cn_topic_0283136951_p9855202814433"></a>walsender的pid相对的轻量级线程号。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row148551928134318"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16855192874317"><a name="zh-cn_topic_0283136951_p16855192874317"></a><a name="zh-cn_topic_0283136951_p16855192874317"></a>local_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p3855192834316"><a name="zh-cn_topic_0283136951_p3855192834316"></a><a name="zh-cn_topic_0283136951_p3855192834316"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1085532864317"><a name="zh-cn_topic_0283136951_p1085532864317"></a><a name="zh-cn_topic_0283136951_p1085532864317"></a>主节点类型。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row185522894310"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p6855122834314"><a name="zh-cn_topic_0283136951_p6855122834314"></a><a name="zh-cn_topic_0283136951_p6855122834314"></a>peer_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p17855828184314"><a name="zh-cn_topic_0283136951_p17855828184314"></a><a name="zh-cn_topic_0283136951_p17855828184314"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p8855928134313"><a name="zh-cn_topic_0283136951_p8855928134313"></a><a name="zh-cn_topic_0283136951_p8855928134313"></a>备节点类型。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row178557287438"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p138551828184310"><a name="zh-cn_topic_0283136951_p138551828184310"></a><a name="zh-cn_topic_0283136951_p138551828184310"></a>peer_state</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p16855828104310"><a name="zh-cn_topic_0283136951_p16855828104310"></a><a name="zh-cn_topic_0283136951_p16855828104310"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p168561628134316"><a name="zh-cn_topic_0283136951_p168561628134316"></a><a name="zh-cn_topic_0283136951_p168561628134316"></a>备节点状态。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row2856628104310"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p185615288438"><a name="zh-cn_topic_0283136951_p185615288438"></a><a name="zh-cn_topic_0283136951_p185615288438"></a>state</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p98561028104316"><a name="zh-cn_topic_0283136951_p98561028104316"></a><a name="zh-cn_topic_0283136951_p98561028104316"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p169661522175410"><a name="zh-cn_topic_0283136951_p169661522175410"></a><a name="zh-cn_topic_0283136951_p169661522175410"></a>walsender状态。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row4154017114820"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p171551417124818"><a name="zh-cn_topic_0283136951_p171551417124818"></a><a name="zh-cn_topic_0283136951_p171551417124818"></a>catchup_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1115591754812"><a name="zh-cn_topic_0283136951_p1115591754812"></a><a name="zh-cn_topic_0283136951_p1115591754812"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p815510176485"><a name="zh-cn_topic_0283136951_p815510176485"></a><a name="zh-cn_topic_0283136951_p815510176485"></a>catchup启动时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row16428172314481"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p2428323154814"><a name="zh-cn_topic_0283136951_p2428323154814"></a><a name="zh-cn_topic_0283136951_p2428323154814"></a>catchup_end</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p742910234485"><a name="zh-cn_topic_0283136951_p742910234485"></a><a name="zh-cn_topic_0283136951_p742910234485"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1229635315548"><a name="zh-cn_topic_0283136951_p1229635315548"></a><a name="zh-cn_topic_0283136951_p1229635315548"></a>catchup结束时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row47181645164813"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p47192045194810"><a name="zh-cn_topic_0283136951_p47192045194810"></a><a name="zh-cn_topic_0283136951_p47192045194810"></a>sender_sent_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p571913450487"><a name="zh-cn_topic_0283136951_p571913450487"></a><a name="zh-cn_topic_0283136951_p571913450487"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p107193457482"><a name="zh-cn_topic_0283136951_p107193457482"></a><a name="zh-cn_topic_0283136951_p107193457482"></a>主节点发送位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row14138749194816"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1613820490489"><a name="zh-cn_topic_0283136951_p1613820490489"></a><a name="zh-cn_topic_0283136951_p1613820490489"></a>sender_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p0138164974814"><a name="zh-cn_topic_0283136951_p0138164974814"></a><a name="zh-cn_topic_0283136951_p0138164974814"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p034842216556"><a name="zh-cn_topic_0283136951_p034842216556"></a><a name="zh-cn_topic_0283136951_p034842216556"></a>主节点落盘位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row10320105354817"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p932135314817"><a name="zh-cn_topic_0283136951_p932135314817"></a><a name="zh-cn_topic_0283136951_p932135314817"></a>sender_flush_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p43212539486"><a name="zh-cn_topic_0283136951_p43212539486"></a><a name="zh-cn_topic_0283136951_p43212539486"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p15889122965515"><a name="zh-cn_topic_0283136951_p15889122965515"></a><a name="zh-cn_topic_0283136951_p15889122965515"></a>主节点flush磁盘位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row98378317497"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1083743194917"><a name="zh-cn_topic_0283136951_p1083743194917"></a><a name="zh-cn_topic_0283136951_p1083743194917"></a>sender_replay_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p15837173154913"><a name="zh-cn_topic_0283136951_p15837173154913"></a><a name="zh-cn_topic_0283136951_p15837173154913"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p153971135195511"><a name="zh-cn_topic_0283136951_p153971135195511"></a><a name="zh-cn_topic_0283136951_p153971135195511"></a>主节点redo位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row4196116495"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16191811184916"><a name="zh-cn_topic_0283136951_p16191811184916"></a><a name="zh-cn_topic_0283136951_p16191811184916"></a>receiver_received_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p020181116497"><a name="zh-cn_topic_0283136951_p020181116497"></a><a name="zh-cn_topic_0283136951_p020181116497"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p820911114915"><a name="zh-cn_topic_0283136951_p820911114915"></a><a name="zh-cn_topic_0283136951_p820911114915"></a>备节点接收位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row119641164498"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p3964186154913"><a name="zh-cn_topic_0283136951_p3964186154913"></a><a name="zh-cn_topic_0283136951_p3964186154913"></a>receiver_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p209641762496"><a name="zh-cn_topic_0283136951_p209641762496"></a><a name="zh-cn_topic_0283136951_p209641762496"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p20527184885512"><a name="zh-cn_topic_0283136951_p20527184885512"></a><a name="zh-cn_topic_0283136951_p20527184885512"></a>备节点落盘位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row71391315164918"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p15140615164910"><a name="zh-cn_topic_0283136951_p15140615164910"></a><a name="zh-cn_topic_0283136951_p15140615164910"></a>receiver_flush_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11140191511495"><a name="zh-cn_topic_0283136951_p11140191511495"></a><a name="zh-cn_topic_0283136951_p11140191511495"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p4140121544913"><a name="zh-cn_topic_0283136951_p4140121544913"></a><a name="zh-cn_topic_0283136951_p4140121544913"></a>备节点flush磁盘位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row53771520124919"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p63782208496"><a name="zh-cn_topic_0283136951_p63782208496"></a><a name="zh-cn_topic_0283136951_p63782208496"></a>receiver_replay_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11378220104918"><a name="zh-cn_topic_0283136951_p11378220104918"></a><a name="zh-cn_topic_0283136951_p11378220104918"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p937812012495"><a name="zh-cn_topic_0283136951_p937812012495"></a><a name="zh-cn_topic_0283136951_p937812012495"></a>备节点redo磁盘位置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row18248124164919"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p424862415498"><a name="zh-cn_topic_0283136951_p424862415498"></a><a name="zh-cn_topic_0283136951_p424862415498"></a>sync_percent</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p17248102454915"><a name="zh-cn_topic_0283136951_p17248102454915"></a><a name="zh-cn_topic_0283136951_p17248102454915"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p15248182410497"><a name="zh-cn_topic_0283136951_p15248182410497"></a><a name="zh-cn_topic_0283136951_p15248182410497"></a>同步百分比。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row14443140135117"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p44447095112"><a name="zh-cn_topic_0283136951_p44447095112"></a><a name="zh-cn_topic_0283136951_p44447095112"></a>sync_state</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p944518015518"><a name="zh-cn_topic_0283136951_p944518015518"></a><a name="zh-cn_topic_0283136951_p944518015518"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p14451065118"><a name="zh-cn_topic_0283136951_p14451065118"></a><a name="zh-cn_topic_0283136951_p14451065118"></a>同步状态。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row679215435117"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p2079294175119"><a name="zh-cn_topic_0283136951_p2079294175119"></a><a name="zh-cn_topic_0283136951_p2079294175119"></a>sync_priority</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p2079216445113"><a name="zh-cn_topic_0283136951_p2079216445113"></a><a name="zh-cn_topic_0283136951_p2079216445113"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p484715405565"><a name="zh-cn_topic_0283136951_p484715405565"></a><a name="zh-cn_topic_0283136951_p484715405565"></a>同步复制的优先级。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row18584611135117"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p13585201145115"><a name="zh-cn_topic_0283136951_p13585201145115"></a><a name="zh-cn_topic_0283136951_p13585201145115"></a>sync_most_available</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p2058501116515"><a name="zh-cn_topic_0283136951_p2058501116515"></a><a name="zh-cn_topic_0283136951_p2058501116515"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p13585141135119"><a name="zh-cn_topic_0283136951_p13585141135119"></a><a name="zh-cn_topic_0283136951_p13585141135119"></a>最大可用模式设置。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row199236418516"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16924154195120"><a name="zh-cn_topic_0283136951_p16924154195120"></a><a name="zh-cn_topic_0283136951_p16924154195120"></a>channel</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p12924184155113"><a name="zh-cn_topic_0283136951_p12924184155113"></a><a name="zh-cn_topic_0283136951_p12924184155113"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p420111065210"><a name="zh-cn_topic_0283136951_p420111065210"></a><a name="zh-cn_topic_0283136951_p420111065210"></a>walsender信道信息。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   get\_paxos\_replication\_info\(\)

    描述：查询Paxos模式下主机或备机的复制状态。

    返回值类型：setofrecord

    返回字段说明如下：

    **表 2**  返回字段说明

    <a name="table132714190424"></a>
    <table><thead align="left"><tr id="row827215193425"><th class="cellrowborder" valign="top" width="26.672667266726673%" id="mcps1.2.4.1.1"><p id="p5272919114214"><a name="p5272919114214"></a><a name="p5272919114214"></a>字段名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="24.512451245124513%" id="mcps1.2.4.1.2"><p id="p182720199429"><a name="p182720199429"></a><a name="p182720199429"></a>字段类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="48.814881488148814%" id="mcps1.2.4.1.3"><p id="p527271918427"><a name="p527271918427"></a><a name="p527271918427"></a>字段说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9275619194218"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p3275719104212"><a name="p3275719104212"></a><a name="p3275719104212"></a>paxos_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p1627620193422"><a name="p1627620193422"></a><a name="p1627620193422"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p17276151910426"><a name="p17276151910426"></a><a name="p17276151910426"></a>已经写入DCF的XLog位置。</p>
    </td>
    </tr>
    <tr id="row1827717196424"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p327716196428"><a name="p327716196428"></a><a name="p327716196428"></a>paxos_commit_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p10277319124213"><a name="p10277319124213"></a><a name="p10277319124213"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p18277121917422"><a name="p18277121917422"></a><a name="p18277121917422"></a>已经在DCF中达成一致的XLog位置。</p>
    </td>
    </tr>
    <tr id="row32772019114220"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p1842517495520"><a name="p1842517495520"></a><a name="p1842517495520"></a>local_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p5277141915429"><a name="p5277141915429"></a><a name="p5277141915429"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p122772198423"><a name="p122772198423"></a><a name="p122772198423"></a>节点的落盘位置。</p>
    </td>
    </tr>
    <tr id="row827713199426"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p14277519124215"><a name="p14277519124215"></a><a name="p14277519124215"></a>local_flush_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p1727741916421"><a name="p1727741916421"></a><a name="p1727741916421"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p72771919164215"><a name="p72771919164215"></a><a name="p72771919164215"></a>节点的flush磁盘位置。</p>
    </td>
    </tr>
    <tr id="row1827720199425"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p19903132413555"><a name="p19903132413555"></a><a name="p19903132413555"></a>local_replay_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p22773199426"><a name="p22773199426"></a><a name="p22773199426"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p2278161915426"><a name="p2278161915426"></a><a name="p2278161915426"></a>节点的redo磁盘位置。</p>
    </td>
    </tr>
    <tr id="row62781196425"><td class="cellrowborder" valign="top" width="26.672667266726673%" headers="mcps1.2.4.1.1 "><p id="p6278201944211"><a name="p6278201944211"></a><a name="p6278201944211"></a>dcf_replication_info</p>
    </td>
    <td class="cellrowborder" valign="top" width="24.512451245124513%" headers="mcps1.2.4.1.2 "><p id="p427861924215"><a name="p427861924215"></a><a name="p427861924215"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.814881488148814%" headers="mcps1.2.4.1.3 "><p id="p827912190427"><a name="p827912190427"></a><a name="p827912190427"></a>节点的DCF模块信息。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_stat\_get\_stream\_replications\(\)

    描述：查询主备复制状态。

    返回值类型：setofrecord

    返回值说明如下。

    **表 3**  返回值说明

    <a name="zh-cn_topic_0283136951_table1662971714811"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row11630717882"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p11633617483"><a name="zh-cn_topic_0283136951_p11633617483"></a><a name="zh-cn_topic_0283136951_p11633617483"></a>返回参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p93814503815"><a name="zh-cn_topic_0283136951_p93814503815"></a><a name="zh-cn_topic_0283136951_p93814503815"></a>返回参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p36691008915"><a name="zh-cn_topic_0283136951_p36691008915"></a><a name="zh-cn_topic_0283136951_p36691008915"></a>返回参数说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row7633141718811"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p66339171386"><a name="zh-cn_topic_0283136951_p66339171386"></a><a name="zh-cn_topic_0283136951_p66339171386"></a>local_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p36331917982"><a name="zh-cn_topic_0283136951_p36331917982"></a><a name="zh-cn_topic_0283136951_p36331917982"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p863410171182"><a name="zh-cn_topic_0283136951_p863410171182"></a><a name="zh-cn_topic_0283136951_p863410171182"></a>本地角色。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row196343175810"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p163411171483"><a name="zh-cn_topic_0283136951_p163411171483"></a><a name="zh-cn_topic_0283136951_p163411171483"></a>static_connections</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p9634517888"><a name="zh-cn_topic_0283136951_p9634517888"></a><a name="zh-cn_topic_0283136951_p9634517888"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p86340175811"><a name="zh-cn_topic_0283136951_p86340175811"></a><a name="zh-cn_topic_0283136951_p86340175811"></a>连接统计。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row11634417989"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p3635141710810"><a name="zh-cn_topic_0283136951_p3635141710810"></a><a name="zh-cn_topic_0283136951_p3635141710810"></a>db_state</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p176351517285"><a name="zh-cn_topic_0283136951_p176351517285"></a><a name="zh-cn_topic_0283136951_p176351517285"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p763517173813"><a name="zh-cn_topic_0283136951_p763517173813"></a><a name="zh-cn_topic_0283136951_p763517173813"></a>数据库状态。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row16537337918"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p135483315913"><a name="zh-cn_topic_0283136951_p135483315913"></a><a name="zh-cn_topic_0283136951_p135483315913"></a>detail_information</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1540335913"><a name="zh-cn_topic_0283136951_p1540335913"></a><a name="zh-cn_topic_0283136951_p1540335913"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p554113314916"><a name="zh-cn_topic_0283136951_p554113314916"></a><a name="zh-cn_topic_0283136951_p554113314916"></a>详细信息。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_stat\_get\_db\_numbackends\(oid\)

    描述：处理该数据库活跃的服务器进程数目。

    返回值类型：integer

-   pg\_stat\_get\_db\_xact\_commit\(oid\)

    描述：数据库中已提交事务的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_xact\_rollback\(oid\)

    描述：数据库中回滚事务的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_blocks\_fetched\(oid\)

    描述：数据库中磁盘块抓取请求的总数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_blocks\_hit\(oid\)

    描述：数据库在缓冲区中找到的磁盘块抓取请求的总数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_returned\(oid\)

    描述：为数据库返回的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_fetched\(oid\)

    描述：为数据库中获取的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_inserted\(oid\)

    描述：在数据库中插入Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_updated\(oid\)

    描述：在数据库中更新的Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_tuples\_deleted\(oid\)

    描述：数据库中删除Tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_conflict\_lock\(oid\)

    描述：数据库中锁冲突的数量。

    返回值类型：bigint

-   pg\_stat\_get\_db\_deadlocks\(oid\)

    描述：数据库中死锁的数量。

    返回值类型：bigint

-   pg\_stat\_get\_numscans\(oid\)

    描述：如果参数是一个表，则顺序扫描读取的行数目。如果参数是一个索引，则返回索引行的数目。

    返回值类型：bigint

-   pg\_stat\_get\_role\_name\(oid\)

    描述：根据用户oid获取用户名。仅sysadmin和monitor admin用户可以访问。

    返回值类型：text

    示例：

    ```
    openGauss=# select pg_stat_get_role_name(10);
     pg_stat_get_role_name
    -----------------------
     aabbcc
    (1 row)
    ```

-   pg\_stat\_get\_tuples\_returned\(oid\)

    描述：如果参数是一个表，则顺序扫描读取的行数目。如果参数是一个索引，则返回的索引行的数目。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_fetched\(oid\)

    描述：如果参数是一个表，则位图扫描抓取的行数目。如果参数是一个索引，则用简单索引扫描抓取的行数目。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_inserted\(oid\)

    描述：插入表中行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_updated\(oid\)

    描述：在表中已更新行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_deleted\(oid\)

    描述：从表中删除行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_changed\(oid\)

    描述：该表上一次analyze或autoanalyze之后插入、更新、删除行的总数量。

    返回值类型：bigint

-   pg\_stat\_get\_tuples\_hot\_updated\(oid\)

    描述：表热更新的行数。

    返回值类型：bigint

-   pg\_stat\_get\_live\_tuples\(oid\)

    描述：表活行数。

    返回值类型：bigint

-   pg\_stat\_get\_dead\_tuples\(oid\)

    描述：表死行数。

    返回值类型：bigint

-   pg\_stat\_get\_blocks\_fetched\(oid\)

    描述：表或者索引的磁盘块抓取请求的数量。

    返回值类型：bigint

-   pg\_stat\_get\_blocks\_hit\(oid\)

    描述：在缓冲区中找到的表或者索引的磁盘块请求数目。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_inserted\(oid\)

    描述：插入相应表分区中行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_updated\(oid\)

    描述：在相应表分区中已更新行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_deleted\(oid\)

    描述：从相应表分区中删除行的数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_tuples\_changed\(oid\)

    描述：该表分区上一次analyze或autoanalyze之后插入、更新、删除行的总数量。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_live\_tuples\(oid\)

    描述：分区表活行数。

    返回值类型：bigint

-   pg\_stat\_get\_partition\_dead\_tuples\(oid\)

    描述：分区表死行数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_fetched\(oid\)

    描述：事务中扫描的tuple行数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_inserted\(oid\)

    描述：表相关的活跃子事务中插入的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_deleted\(oid\)

    描述：表相关的活跃子事务中删除的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_hot\_updated\(oid\)

    描述：表相关的活跃子事务中热更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_tuples\_updated\(oid\)

    描述：表相关的活跃子事务中更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_inserted\(oid\)

    描述：表分区相关的活跃子事务中插入的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_deleted\(oid\)

    描述：表分区相关的活跃子事务中删除的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_hot\_updated\(oid\)

    描述：表分区相关的活跃子事务中热更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_xact\_partition\_tuples\_updated\(oid\)

    描述：表分区相关的活跃子事务中更新的tuple数。

    返回值类型：bigint

-   pg\_stat\_get\_last\_vacuum\_time\(oid\)

    描述：用户在该表上最后一次手动启动清理或者autovacuum线程启动清理的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_last\_autovacuum\_time\(oid\)

    描述：autovacuum守护进程在该表上最后一次启动清理的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_vacuum\_count\(oid\)

    描述：用户在该表上启动清理的次数。

    返回值类型：bigint

-   pg\_stat\_get\_autovacuum\_count\(oid\)

    描述：autovacuum守护进程在该表上启动清理的次数。

    返回值类型：bigint

-   pg\_stat\_get\_last\_analyze\_time\(oid\)

    描述：用户在该表上最后一次手动启动分析或者autovacuum线程启动分析的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_last\_autoanalyze\_time\(oid\)

    描述：autovacuum守护进程在该表上最后一次启动分析的时间。

    返回值类型：timestamptz

-   pg\_stat\_get\_analyze\_count\(oid\)

    描述：用户在该表上启动分析的次数。

    返回值类型：bigint

-   pg\_stat\_get\_autoanalyze\_count\(oid\)

    描述：autovacuum守护进程在该表上启动分析的次数。

    返回值类型：bigint

-   pg\_total\_autovac\_tuples\(bool,bool\)

    描述：返回total autovac相关的tuple记录，如nodename,nspname,relname以及各类tuple的IUD信息，入参分别为：是否查询relation信息，是否查询local信息。

    返回值类型：setofrecord

    返回参数说明如下。

    **表 4**  返回参数说明

    <a name="zh-cn_topic_0283136951_table14816112541517"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row148172025141520"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p58171325151511"><a name="zh-cn_topic_0283136951_p58171325151511"></a><a name="zh-cn_topic_0283136951_p58171325151511"></a>返回参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p12242101871719"><a name="zh-cn_topic_0283136951_p12242101871719"></a><a name="zh-cn_topic_0283136951_p12242101871719"></a>返回参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p45501846111711"><a name="zh-cn_topic_0283136951_p45501846111711"></a><a name="zh-cn_topic_0283136951_p45501846111711"></a>返回参数说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row20818152517157"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p13818162581514"><a name="zh-cn_topic_0283136951_p13818162581514"></a><a name="zh-cn_topic_0283136951_p13818162581514"></a>nodename</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1859598171917"><a name="zh-cn_topic_0283136951_p1859598171917"></a><a name="zh-cn_topic_0283136951_p1859598171917"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p10818112501512"><a name="zh-cn_topic_0283136951_p10818112501512"></a><a name="zh-cn_topic_0283136951_p10818112501512"></a>节点名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row581862581517"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p4818425131514"><a name="zh-cn_topic_0283136951_p4818425131514"></a><a name="zh-cn_topic_0283136951_p4818425131514"></a>nspname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p881842519152"><a name="zh-cn_topic_0283136951_p881842519152"></a><a name="zh-cn_topic_0283136951_p881842519152"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p88181925131514"><a name="zh-cn_topic_0283136951_p88181925131514"></a><a name="zh-cn_topic_0283136951_p88181925131514"></a>名称空间名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row18184258154"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p158181725191514"><a name="zh-cn_topic_0283136951_p158181725191514"></a><a name="zh-cn_topic_0283136951_p158181725191514"></a>relname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1981810253156"><a name="zh-cn_topic_0283136951_p1981810253156"></a><a name="zh-cn_topic_0283136951_p1981810253156"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p108191125101512"><a name="zh-cn_topic_0283136951_p108191125101512"></a><a name="zh-cn_topic_0283136951_p108191125101512"></a>表、索引、视图等对象名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row7819925111516"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16819162510156"><a name="zh-cn_topic_0283136951_p16819162510156"></a><a name="zh-cn_topic_0283136951_p16819162510156"></a>partname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p138191225161517"><a name="zh-cn_topic_0283136951_p138191225161517"></a><a name="zh-cn_topic_0283136951_p138191225161517"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p4819202591511"><a name="zh-cn_topic_0283136951_p4819202591511"></a><a name="zh-cn_topic_0283136951_p4819202591511"></a>分区名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row28191225121515"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p108191325101511"><a name="zh-cn_topic_0283136951_p108191325101511"></a><a name="zh-cn_topic_0283136951_p108191325101511"></a>n_dead_tuples</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11819152521514"><a name="zh-cn_topic_0283136951_p11819152521514"></a><a name="zh-cn_topic_0283136951_p11819152521514"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p2081912258159"><a name="zh-cn_topic_0283136951_p2081912258159"></a><a name="zh-cn_topic_0283136951_p2081912258159"></a>表分区内的死行数。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row12476369209"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1024820362203"><a name="zh-cn_topic_0283136951_p1024820362203"></a><a name="zh-cn_topic_0283136951_p1024820362203"></a>n_live_tuples</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1124823620202"><a name="zh-cn_topic_0283136951_p1124823620202"></a><a name="zh-cn_topic_0283136951_p1124823620202"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1824812368201"><a name="zh-cn_topic_0283136951_p1824812368201"></a><a name="zh-cn_topic_0283136951_p1824812368201"></a>表分区内的活行数。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row195051441102010"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1505164132014"><a name="zh-cn_topic_0283136951_p1505164132014"></a><a name="zh-cn_topic_0283136951_p1505164132014"></a>changes_since_analyze</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1750554182015"><a name="zh-cn_topic_0283136951_p1750554182015"></a><a name="zh-cn_topic_0283136951_p1750554182015"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p14506134182011"><a name="zh-cn_topic_0283136951_p14506134182011"></a><a name="zh-cn_topic_0283136951_p14506134182011"></a>analyze产生改变的数量。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_autovac\_status\(oid\)

    描述：返回和autovac状态相关的参数信息，如nodename,nspname,relname,analyze,vacuum设置，analyze/vacuum阈值, analyze/vacuum tuple数等。仅sysadmin可以使用该函数。

    返回值类型：setofrecord

    返回值参数说明如下。

    **表 5**  返回值参数说明

    <a name="zh-cn_topic_0283136951_table1494614261571"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row109474261377"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p994712261279"><a name="zh-cn_topic_0283136951_p994712261279"></a><a name="zh-cn_topic_0283136951_p994712261279"></a>返回参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p1694762611712"><a name="zh-cn_topic_0283136951_p1694762611712"></a><a name="zh-cn_topic_0283136951_p1694762611712"></a>返回参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p20948202615715"><a name="zh-cn_topic_0283136951_p20948202615715"></a><a name="zh-cn_topic_0283136951_p20948202615715"></a>返回参数说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row1294816261078"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p29489261873"><a name="zh-cn_topic_0283136951_p29489261873"></a><a name="zh-cn_topic_0283136951_p29489261873"></a>nspname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p199489261078"><a name="zh-cn_topic_0283136951_p199489261078"></a><a name="zh-cn_topic_0283136951_p199489261078"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p726619322126"><a name="zh-cn_topic_0283136951_p726619322126"></a><a name="zh-cn_topic_0283136951_p726619322126"></a>名称空间名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1294815261712"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p794892615720"><a name="zh-cn_topic_0283136951_p794892615720"></a><a name="zh-cn_topic_0283136951_p794892615720"></a>relname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p149484261873"><a name="zh-cn_topic_0283136951_p149484261873"></a><a name="zh-cn_topic_0283136951_p149484261873"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1149882681218"><a name="zh-cn_topic_0283136951_p1149882681218"></a><a name="zh-cn_topic_0283136951_p1149882681218"></a>表、索引、视图等对象名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1494915261174"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1294916261572"><a name="zh-cn_topic_0283136951_p1294916261572"></a><a name="zh-cn_topic_0283136951_p1294916261572"></a>nodename</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1894913261374"><a name="zh-cn_topic_0283136951_p1894913261374"></a><a name="zh-cn_topic_0283136951_p1894913261374"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1094912265720"><a name="zh-cn_topic_0283136951_p1094912265720"></a><a name="zh-cn_topic_0283136951_p1094912265720"></a>节点名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row694917262077"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p99497261970"><a name="zh-cn_topic_0283136951_p99497261970"></a><a name="zh-cn_topic_0283136951_p99497261970"></a>doanalyze</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1994915261776"><a name="zh-cn_topic_0283136951_p1994915261776"></a><a name="zh-cn_topic_0283136951_p1994915261776"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p4433181417127"><a name="zh-cn_topic_0283136951_p4433181417127"></a><a name="zh-cn_topic_0283136951_p4433181417127"></a>是否执行analyze。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row184591961294"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16460261899"><a name="zh-cn_topic_0283136951_p16460261899"></a><a name="zh-cn_topic_0283136951_p16460261899"></a>anltuples</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1546117616919"><a name="zh-cn_topic_0283136951_p1546117616919"></a><a name="zh-cn_topic_0283136951_p1546117616919"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p15595108201213"><a name="zh-cn_topic_0283136951_p15595108201213"></a><a name="zh-cn_topic_0283136951_p15595108201213"></a>analyze tuple数量。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1420519111918"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p14206171115912"><a name="zh-cn_topic_0283136951_p14206171115912"></a><a name="zh-cn_topic_0283136951_p14206171115912"></a>anlthresh</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p13206111111913"><a name="zh-cn_topic_0283136951_p13206111111913"></a><a name="zh-cn_topic_0283136951_p13206111111913"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p92077119918"><a name="zh-cn_topic_0283136951_p92077119918"></a><a name="zh-cn_topic_0283136951_p92077119918"></a>analyze阈值。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row56435309913"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p11644193012911"><a name="zh-cn_topic_0283136951_p11644193012911"></a><a name="zh-cn_topic_0283136951_p11644193012911"></a>dovacuum</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p13644123010912"><a name="zh-cn_topic_0283136951_p13644123010912"></a><a name="zh-cn_topic_0283136951_p13644123010912"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p106443301396"><a name="zh-cn_topic_0283136951_p106443301396"></a><a name="zh-cn_topic_0283136951_p106443301396"></a>是否执行vacuum。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row066734693"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p3661634094"><a name="zh-cn_topic_0283136951_p3661634094"></a><a name="zh-cn_topic_0283136951_p3661634094"></a>vactuples</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p3671834991"><a name="zh-cn_topic_0283136951_p3671834991"></a><a name="zh-cn_topic_0283136951_p3671834991"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p5679347911"><a name="zh-cn_topic_0283136951_p5679347911"></a><a name="zh-cn_topic_0283136951_p5679347911"></a>vacuum tuple数量。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row5453145420910"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p134541654899"><a name="zh-cn_topic_0283136951_p134541654899"></a><a name="zh-cn_topic_0283136951_p134541654899"></a>vacthresh</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p134549541395"><a name="zh-cn_topic_0283136951_p134549541395"></a><a name="zh-cn_topic_0283136951_p134549541395"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p845555420919"><a name="zh-cn_topic_0283136951_p845555420919"></a><a name="zh-cn_topic_0283136951_p845555420919"></a>vacuum阈值。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_autovac\_timeout\(oid\)

    描述：返回某个表做autovac连续超时的次数，表信息非法或node信息异常返回NULL。

    返回值类型：bigint

-   pg\_stat\_get\_last\_data\_changed\_time\(oid\)

    描述：insert/update/delete, exchange/truncate/drop partition在该表上最后一次操作的时间，[PG\_STAT\_ALL\_TABLES](../DatabaseReference/PG_STAT_ALL_TABLES.md)视图last\_data\_changed列的数据是通过该函数求值，在表数量很大的场景中，通过视图获取表数据最后修改时间的性能较差，建议直接使用该函数获取表数据的最后修改时间。入参可以是表的oid或分区的oid，分别获取表或表的分区的最后修改时间。

    返回值类型：timestamptz

-   pg\_stat\_set\_last\_data\_changed\_time\(oid\)

    描述：手动设置该表上最后一次insert/update/delete, exchange/truncate/drop partition操作的时间。

    返回值类型：void

-   pg\_backend\_pid\(\)

    描述：当前会话的服务器线程的线程ID。

    返回值类型：bigint

-   pg\_stat\_get\_activity\(integer\)

    描述：返回一个关于带有特殊PID的后台进程的记录信息，当参数为NULL时，则返回每个活动的后台进程的记录。返回结果不包含connection\_info列。初始用户、系统管理员和monadmin可以查看所有的数据，普通用户只能查询自己的结果。

    示例：

    ```
    openGauss=# select * from pg_stat_get_activity(139881386280704);
     datid |       pid       | sessionid | usesysid | application_name | state  |                        query                         | waiting |          xact_start           |          query_start          |
        backend_start         |         state_change         | client_addr | client_hostname | client_port | enqueue |     query_id      |   srespool   | global_sessionid | unique_sql_id | trace_id
    -------+-----------------+-----------+----------+------------------+--------+------------------------------------------------------+---------+-------------------------------+-------------------------------+-----
    --------------------------+------------------------------+-------------+-----------------+-------------+---------+-------------------+--------------+------------------+---------------+----------
     16545 | 139881386280704 |        69 |       10 | gsql             | active | select * from pg_stat_get_activity(139881386280704); | f       | 2022-01-18 19:43:05.167718+08 | 2022-01-18 19:43:05.167718+08 | 2022
    -01-18 19:42:33.513507+08 | 2022-01-18 19:43:05.16773+08 |             |                 |          -1 |         | 72620543991624410 | default_pool | 1938253334#69#0  |    3751941862 |
    (1 row)
    ```

    返回值类型：setofrecord

    返回参数说明如下。

    **表 6**  返回参数说明

    <a name="zh-cn_topic_0283136951_table147214071613"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row77304010165"><th class="cellrowborder" valign="top" width="35.063506350635066%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p5737405161"><a name="zh-cn_topic_0283136951_p5737405161"></a><a name="zh-cn_topic_0283136951_p5737405161"></a>返回参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="31.6031603160316%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p14731540111617"><a name="zh-cn_topic_0283136951_p14731540111617"></a><a name="zh-cn_topic_0283136951_p14731540111617"></a>返回参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p97334010164"><a name="zh-cn_topic_0283136951_p97334010164"></a><a name="zh-cn_topic_0283136951_p97334010164"></a>返回参数说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row16731540181620"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p673440101616"><a name="zh-cn_topic_0283136951_p673440101616"></a><a name="zh-cn_topic_0283136951_p673440101616"></a>datid</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p4741840111618"><a name="zh-cn_topic_0283136951_p4741840111618"></a><a name="zh-cn_topic_0283136951_p4741840111618"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p191201373292"><a name="zh-cn_topic_0283136951_p191201373292"></a><a name="zh-cn_topic_0283136951_p191201373292"></a>用户会话在后台连接到的数据库OID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row17741640191617"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p16741440131612"><a name="zh-cn_topic_0283136951_p16741440131612"></a><a name="zh-cn_topic_0283136951_p16741440131612"></a>pid</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p137484011610"><a name="zh-cn_topic_0283136951_p137484011610"></a><a name="zh-cn_topic_0283136951_p137484011610"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1576062313290"><a name="zh-cn_topic_0283136951_p1576062313290"></a><a name="zh-cn_topic_0283136951_p1576062313290"></a>后台线程ID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row67494011161"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p107434051611"><a name="zh-cn_topic_0283136951_p107434051611"></a><a name="zh-cn_topic_0283136951_p107434051611"></a>sessionid</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p187410405162"><a name="zh-cn_topic_0283136951_p187410405162"></a><a name="zh-cn_topic_0283136951_p187410405162"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p177510404167"><a name="zh-cn_topic_0283136951_p177510404167"></a><a name="zh-cn_topic_0283136951_p177510404167"></a>会话ID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1775194051619"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p187524016169"><a name="zh-cn_topic_0283136951_p187524016169"></a><a name="zh-cn_topic_0283136951_p187524016169"></a>usesysid</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p137504017161"><a name="zh-cn_topic_0283136951_p137504017161"></a><a name="zh-cn_topic_0283136951_p137504017161"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p137594021613"><a name="zh-cn_topic_0283136951_p137594021613"></a><a name="zh-cn_topic_0283136951_p137594021613"></a>登录该后台的用户OID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1175144021611"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p976154020164"><a name="zh-cn_topic_0283136951_p976154020164"></a><a name="zh-cn_topic_0283136951_p976154020164"></a>application_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p187619405164"><a name="zh-cn_topic_0283136951_p187619405164"></a><a name="zh-cn_topic_0283136951_p187619405164"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p3765408162"><a name="zh-cn_topic_0283136951_p3765408162"></a><a name="zh-cn_topic_0283136951_p3765408162"></a>连接到该后台的应用名。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row240816535187"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p2409125351812"><a name="zh-cn_topic_0283136951_p2409125351812"></a><a name="zh-cn_topic_0283136951_p2409125351812"></a>state</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p52401239271"><a name="zh-cn_topic_0283136951_p52401239271"></a><a name="zh-cn_topic_0283136951_p52401239271"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p8410553181812"><a name="zh-cn_topic_0283136951_p8410553181812"></a><a name="zh-cn_topic_0283136951_p8410553181812"></a>该后台当前总体状态。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row20433131516198"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1743491521918"><a name="zh-cn_topic_0283136951_p1743491521918"></a><a name="zh-cn_topic_0283136951_p1743491521918"></a>query</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p04341915121912"><a name="zh-cn_topic_0283136951_p04341915121912"></a><a name="zh-cn_topic_0283136951_p04341915121912"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p18434101541910"><a name="zh-cn_topic_0283136951_p18434101541910"></a><a name="zh-cn_topic_0283136951_p18434101541910"></a>该后台的最新查询。如果state状态是active（活跃的），此字段显示当前正在执行的查询。所有其他情况表示上一个查询。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row18561719141914"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p17857181918193"><a name="zh-cn_topic_0283136951_p17857181918193"></a><a name="zh-cn_topic_0283136951_p17857181918193"></a>waiting</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p16857121917196"><a name="zh-cn_topic_0283136951_p16857121917196"></a><a name="zh-cn_topic_0283136951_p16857121917196"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p19857121951918"><a name="zh-cn_topic_0283136951_p19857121951918"></a><a name="zh-cn_topic_0283136951_p19857121951918"></a>如果后台当前正等待锁则为true。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row10811236121917"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p38111636131910"><a name="zh-cn_topic_0283136951_p38111636131910"></a><a name="zh-cn_topic_0283136951_p38111636131910"></a>xact_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p15811936181913"><a name="zh-cn_topic_0283136951_p15811936181913"></a><a name="zh-cn_topic_0283136951_p15811936181913"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p10812636191920"><a name="zh-cn_topic_0283136951_p10812636191920"></a><a name="zh-cn_topic_0283136951_p10812636191920"></a>启动当前事务的时间，如果没有事务是活跃的，则为null。</p>
    <p id="zh-cn_topic_0283136951_p4616541132518"><a name="zh-cn_topic_0283136951_p4616541132518"></a><a name="zh-cn_topic_0283136951_p4616541132518"></a>如果当前查询是首个事务，则这列等同于query_start列。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1922445271914"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p72255527193"><a name="zh-cn_topic_0283136951_p72255527193"></a><a name="zh-cn_topic_0283136951_p72255527193"></a>query_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p32254522193"><a name="zh-cn_topic_0283136951_p32254522193"></a><a name="zh-cn_topic_0283136951_p32254522193"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p156675918251"><a name="zh-cn_topic_0283136951_p156675918251"></a><a name="zh-cn_topic_0283136951_p156675918251"></a>开始当前活跃查询的时间，如果state的值不是active，则这个值是上一个查询的开始时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row165075621919"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p4651156171920"><a name="zh-cn_topic_0283136951_p4651156171920"></a><a name="zh-cn_topic_0283136951_p4651156171920"></a>backend_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p565125621914"><a name="zh-cn_topic_0283136951_p565125621914"></a><a name="zh-cn_topic_0283136951_p565125621914"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p206515564197"><a name="zh-cn_topic_0283136951_p206515564197"></a><a name="zh-cn_topic_0283136951_p206515564197"></a>该过程开始的时间，即当客户端连接服务器时。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row6451181610208"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1945141614202"><a name="zh-cn_topic_0283136951_p1945141614202"></a><a name="zh-cn_topic_0283136951_p1945141614202"></a>state_change</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p4451121692014"><a name="zh-cn_topic_0283136951_p4451121692014"></a><a name="zh-cn_topic_0283136951_p4451121692014"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p2982153210243"><a name="zh-cn_topic_0283136951_p2982153210243"></a><a name="zh-cn_topic_0283136951_p2982153210243"></a>上次状态改变的时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row167765339204"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p177683342016"><a name="zh-cn_topic_0283136951_p177683342016"></a><a name="zh-cn_topic_0283136951_p177683342016"></a>client_addr</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1277653372017"><a name="zh-cn_topic_0283136951_p1277653372017"></a><a name="zh-cn_topic_0283136951_p1277653372017"></a>inet</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p19776113312012"><a name="zh-cn_topic_0283136951_p19776113312012"></a><a name="zh-cn_topic_0283136951_p19776113312012"></a>连接到该后台的客户端的IP地址。如果此字段是null，它表明通过服务器机器上UNIX套接字连接客户端或者这是内部进程，如autovacuum。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1411374615201"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p4113846102013"><a name="zh-cn_topic_0283136951_p4113846102013"></a><a name="zh-cn_topic_0283136951_p4113846102013"></a>client_hostname</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p8113134610200"><a name="zh-cn_topic_0283136951_p8113134610200"></a><a name="zh-cn_topic_0283136951_p8113134610200"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p14113204692011"><a name="zh-cn_topic_0283136951_p14113204692011"></a><a name="zh-cn_topic_0283136951_p14113204692011"></a>客户端的主机名，这个字段是通过client_addr的反向DNS查找得到。这个字段只有在启动log_hostname且使用IP连接时才非空。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row28681792219"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p986869102116"><a name="zh-cn_topic_0283136951_p986869102116"></a><a name="zh-cn_topic_0283136951_p986869102116"></a>client_port</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p3868691216"><a name="zh-cn_topic_0283136951_p3868691216"></a><a name="zh-cn_topic_0283136951_p3868691216"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p18331162415238"><a name="zh-cn_topic_0283136951_p18331162415238"></a><a name="zh-cn_topic_0283136951_p18331162415238"></a>客户端用于与后台通讯的TCP端口号，如果使用Unix套接字，则为-1。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1660362882120"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p960322812212"><a name="zh-cn_topic_0283136951_p960322812212"></a><a name="zh-cn_topic_0283136951_p960322812212"></a>enqueue</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p155514473225"><a name="zh-cn_topic_0283136951_p155514473225"></a><a name="zh-cn_topic_0283136951_p155514473225"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p152741656202215"><a name="zh-cn_topic_0283136951_p152741656202215"></a><a name="zh-cn_topic_0283136951_p152741656202215"></a>该字段暂不支持。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row69109403213"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p14911164072114"><a name="zh-cn_topic_0283136951_p14911164072114"></a><a name="zh-cn_topic_0283136951_p14911164072114"></a>query_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p19111940202111"><a name="zh-cn_topic_0283136951_p19111940202111"></a><a name="zh-cn_topic_0283136951_p19111940202111"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p99128408218"><a name="zh-cn_topic_0283136951_p99128408218"></a><a name="zh-cn_topic_0283136951_p99128408218"></a>查询语句的ID。</p>
    </td>
    </tr>
    <tr id="row85731028152812"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="p7573132852816"><a name="p7573132852816"></a><a name="p7573132852816"></a>srespool</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="p20573162882818"><a name="p20573162882818"></a><a name="p20573162882818"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p15731028182818"><a name="p15731028182818"></a><a name="p15731028182818"></a>资源池名字。</p>
    </td>
    </tr>
    <tr id="row28955115323"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="p38951917329"><a name="p38951917329"></a><a name="p38951917329"></a>global_sessionid</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="p168959143217"><a name="p168959143217"></a><a name="p168959143217"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p168951113321"><a name="p168951113321"></a><a name="p168951113321"></a>全局会话id。</p>
    </td>
    </tr>
    <tr id="row46321879593"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="p46321076593"><a name="p46321076593"></a><a name="p46321076593"></a>unique_sql_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="p163211725912"><a name="p163211725912"></a><a name="p163211725912"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p136322755917"><a name="p136322755917"></a><a name="p136322755917"></a>语句的unique sql id。</p>
    </td>
    </tr>
    <tr id="row1531623435213"><td class="cellrowborder" valign="top" width="35.063506350635066%" headers="mcps1.2.4.1.1 "><p id="p531723410523"><a name="p531723410523"></a><a name="p531723410523"></a>trace_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.6031603160316%" headers="mcps1.2.4.1.2 "><p id="p20317113415522"><a name="p20317113415522"></a><a name="p20317113415522"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1131733411521"><a name="p1131733411521"></a><a name="p1131733411521"></a>驱动传入的trace id，与应用的一次请求相关联。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_stat\_get\_activity\_with\_conninfo\(integer\)

    描述：返回一个关于带有特殊PID的后台进程的记录信息，当参数为NULL时，则返回每个活动的后台进程的记录。初始用户、系统管理员和monadmin可以查看所有的数据，普通用户只能查询自己的结果。

    返回值类型：setofrecord

    返回值说明如下。

    **表 7**  返回值说明

    <a name="zh-cn_topic_0283136951_table8714322156"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_row27218327150"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0283136951_p137215323156"><a name="zh-cn_topic_0283136951_p137215323156"></a><a name="zh-cn_topic_0283136951_p137215323156"></a>返回值</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0283136951_p107253241511"><a name="zh-cn_topic_0283136951_p107253241511"></a><a name="zh-cn_topic_0283136951_p107253241511"></a>返回值类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0283136951_p1873153219152"><a name="zh-cn_topic_0283136951_p1873153219152"></a><a name="zh-cn_topic_0283136951_p1873153219152"></a>返回值说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_row1973163211510"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1473132181520"><a name="zh-cn_topic_0283136951_p1473132181520"></a><a name="zh-cn_topic_0283136951_p1473132181520"></a>datid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11232923813"><a name="zh-cn_topic_0283136951_p11232923813"></a><a name="zh-cn_topic_0283136951_p11232923813"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p1112317943816"><a name="zh-cn_topic_0283136951_p1112317943816"></a><a name="zh-cn_topic_0283136951_p1112317943816"></a>用户会话在后台连接到的数据库OID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row6732032101510"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p474203261510"><a name="zh-cn_topic_0283136951_p474203261510"></a><a name="zh-cn_topic_0283136951_p474203261510"></a>pid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p111241997383"><a name="zh-cn_topic_0283136951_p111241997383"></a><a name="zh-cn_topic_0283136951_p111241997383"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p19124691389"><a name="zh-cn_topic_0283136951_p19124691389"></a><a name="zh-cn_topic_0283136951_p19124691389"></a>后台线程ID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row474113291510"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p474173213157"><a name="zh-cn_topic_0283136951_p474173213157"></a><a name="zh-cn_topic_0283136951_p474173213157"></a>sessionid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p151247910389"><a name="zh-cn_topic_0283136951_p151247910389"></a><a name="zh-cn_topic_0283136951_p151247910389"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p5125298380"><a name="zh-cn_topic_0283136951_p5125298380"></a><a name="zh-cn_topic_0283136951_p5125298380"></a>会话ID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row147563221515"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p87513219153"><a name="zh-cn_topic_0283136951_p87513219153"></a><a name="zh-cn_topic_0283136951_p87513219153"></a>usesysid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11125793389"><a name="zh-cn_topic_0283136951_p11125793389"></a><a name="zh-cn_topic_0283136951_p11125793389"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p151251394386"><a name="zh-cn_topic_0283136951_p151251394386"></a><a name="zh-cn_topic_0283136951_p151251394386"></a>登录该后台的用户OID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row177462013161815"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p197475139182"><a name="zh-cn_topic_0283136951_p197475139182"></a><a name="zh-cn_topic_0283136951_p197475139182"></a>application_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p19125129123812"><a name="zh-cn_topic_0283136951_p19125129123812"></a><a name="zh-cn_topic_0283136951_p19125129123812"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p012579143814"><a name="zh-cn_topic_0283136951_p012579143814"></a><a name="zh-cn_topic_0283136951_p012579143814"></a>连接到该后台的应用名。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row125011912183"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1351519161816"><a name="zh-cn_topic_0283136951_p1351519161816"></a><a name="zh-cn_topic_0283136951_p1351519161816"></a>state</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p145116196184"><a name="zh-cn_topic_0283136951_p145116196184"></a><a name="zh-cn_topic_0283136951_p145116196184"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p95213198185"><a name="zh-cn_topic_0283136951_p95213198185"></a><a name="zh-cn_topic_0283136951_p95213198185"></a>改后台当前总体状态</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row3658547131812"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p5659047191816"><a name="zh-cn_topic_0283136951_p5659047191816"></a><a name="zh-cn_topic_0283136951_p5659047191816"></a>query</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p2065914714188"><a name="zh-cn_topic_0283136951_p2065914714188"></a><a name="zh-cn_topic_0283136951_p2065914714188"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p826110558358"><a name="zh-cn_topic_0283136951_p826110558358"></a><a name="zh-cn_topic_0283136951_p826110558358"></a>该后台的最新查询。如果state状态是active（活跃的），此字段显示当前正在执行的查询。所有其他情况表示上一个查询。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1112454181810"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1812654141816"><a name="zh-cn_topic_0283136951_p1812654141816"></a><a name="zh-cn_topic_0283136951_p1812654141816"></a>waiting</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p11214548184"><a name="zh-cn_topic_0283136951_p11214548184"></a><a name="zh-cn_topic_0283136951_p11214548184"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p143863432351"><a name="zh-cn_topic_0283136951_p143863432351"></a><a name="zh-cn_topic_0283136951_p143863432351"></a>如果后台当前正等待锁则为true</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row360025811815"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p3601105831811"><a name="zh-cn_topic_0283136951_p3601105831811"></a><a name="zh-cn_topic_0283136951_p3601105831811"></a>xact_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p3601175851814"><a name="zh-cn_topic_0283136951_p3601175851814"></a><a name="zh-cn_topic_0283136951_p3601175851814"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p791672733514"><a name="zh-cn_topic_0283136951_p791672733514"></a><a name="zh-cn_topic_0283136951_p791672733514"></a>启动当前事务的时间，如果没有事务是活跃的，则为null。如果当前查询是首个事务，则这列等同于query_start列。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row371718291910"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1871719261916"><a name="zh-cn_topic_0283136951_p1871719261916"></a><a name="zh-cn_topic_0283136951_p1871719261916"></a>query_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p17171826194"><a name="zh-cn_topic_0283136951_p17171826194"></a><a name="zh-cn_topic_0283136951_p17171826194"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p193581715153516"><a name="zh-cn_topic_0283136951_p193581715153516"></a><a name="zh-cn_topic_0283136951_p193581715153516"></a>开始当前活跃查询的时间，如果state的值不是active，则这个值是上一个查询的开始时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row342571181911"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p1942501101911"><a name="zh-cn_topic_0283136951_p1942501101911"></a><a name="zh-cn_topic_0283136951_p1942501101911"></a>backend_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p44257112197"><a name="zh-cn_topic_0283136951_p44257112197"></a><a name="zh-cn_topic_0283136951_p44257112197"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p10555134973416"><a name="zh-cn_topic_0283136951_p10555134973416"></a><a name="zh-cn_topic_0283136951_p10555134973416"></a>该过程开始的时间，即当客户端连接服务器时。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row881795112010"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p15817175132011"><a name="zh-cn_topic_0283136951_p15817175132011"></a><a name="zh-cn_topic_0283136951_p15817175132011"></a>state_change</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p7818125115208"><a name="zh-cn_topic_0283136951_p7818125115208"></a><a name="zh-cn_topic_0283136951_p7818125115208"></a>timestamp with time zone</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p158185514208"><a name="zh-cn_topic_0283136951_p158185514208"></a><a name="zh-cn_topic_0283136951_p158185514208"></a>上次状态改变的时间。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1956611310248"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p105678312411"><a name="zh-cn_topic_0283136951_p105678312411"></a><a name="zh-cn_topic_0283136951_p105678312411"></a>client_addr</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p18567183192419"><a name="zh-cn_topic_0283136951_p18567183192419"></a><a name="zh-cn_topic_0283136951_p18567183192419"></a>inet</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p272643273311"><a name="zh-cn_topic_0283136951_p272643273311"></a><a name="zh-cn_topic_0283136951_p272643273311"></a>连接到该后台的客户端的IP地址。如果此字段是null，它表明通过服务器机器上UNIX套接字连接客户端或者这是内部进程，如autovacuum</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row184018578326"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p19402757103218"><a name="zh-cn_topic_0283136951_p19402757103218"></a><a name="zh-cn_topic_0283136951_p19402757103218"></a>client_hostname</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p7402125717322"><a name="zh-cn_topic_0283136951_p7402125717322"></a><a name="zh-cn_topic_0283136951_p7402125717322"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p114021557193219"><a name="zh-cn_topic_0283136951_p114021557193219"></a><a name="zh-cn_topic_0283136951_p114021557193219"></a>客户端的主机名，这个字段是通过client_addr的反向DNS查找得到。这个字段只有在启动log_hostname且使用IP连接时才非空。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row1119736182610"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p51977652616"><a name="zh-cn_topic_0283136951_p51977652616"></a><a name="zh-cn_topic_0283136951_p51977652616"></a>client_port</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p21973672616"><a name="zh-cn_topic_0283136951_p21973672616"></a><a name="zh-cn_topic_0283136951_p21973672616"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p191971667265"><a name="zh-cn_topic_0283136951_p191971667265"></a><a name="zh-cn_topic_0283136951_p191971667265"></a>客户端用于与后台通讯的TCP端口号，如果使用Unix套接字，则为-1。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row428083319266"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p5281103322619"><a name="zh-cn_topic_0283136951_p5281103322619"></a><a name="zh-cn_topic_0283136951_p5281103322619"></a>enqueue</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p172816333268"><a name="zh-cn_topic_0283136951_p172816333268"></a><a name="zh-cn_topic_0283136951_p172816333268"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p82811133152618"><a name="zh-cn_topic_0283136951_p82811133152618"></a><a name="zh-cn_topic_0283136951_p82811133152618"></a>该字段暂不支持。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row39914123292"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p9991191210293"><a name="zh-cn_topic_0283136951_p9991191210293"></a><a name="zh-cn_topic_0283136951_p9991191210293"></a>query_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1299161222914"><a name="zh-cn_topic_0283136951_p1299161222914"></a><a name="zh-cn_topic_0283136951_p1299161222914"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p165419113217"><a name="zh-cn_topic_0283136951_p165419113217"></a><a name="zh-cn_topic_0283136951_p165419113217"></a>查询语句的ID。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_row85651620202917"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0283136951_p3566202042917"><a name="zh-cn_topic_0283136951_p3566202042917"></a><a name="zh-cn_topic_0283136951_p3566202042917"></a>connection_info</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0283136951_p1056632052912"><a name="zh-cn_topic_0283136951_p1056632052912"></a><a name="zh-cn_topic_0283136951_p1056632052912"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0283136951_p18563443173114"><a name="zh-cn_topic_0283136951_p18563443173114"></a><a name="zh-cn_topic_0283136951_p18563443173114"></a>json格式字符串，记录当前连接数据库的驱动类型、驱动版本号、当前驱动的部署路径、进程属主用户等信息。</p>
    </td>
    </tr>
    <tr id="row19415941919"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p16416144113114"><a name="p16416144113114"></a><a name="p16416144113114"></a>srespool</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p104166418119"><a name="p104166418119"></a><a name="p104166418119"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1141615411319"><a name="p1141615411319"></a><a name="p1141615411319"></a>资源池名字。</p>
    </td>
    </tr>
    <tr id="row1675483312441"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1075518336447"><a name="p1075518336447"></a><a name="p1075518336447"></a>global_sessionid</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p27551833164411"><a name="p27551833164411"></a><a name="p27551833164411"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p12755133134415"><a name="p12755133134415"></a><a name="p12755133134415"></a>全局会话ID。</p>
    </td>
    </tr>
    <tr id="row7383027135111"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1138472765119"><a name="p1138472765119"></a><a name="p1138472765119"></a>unique_sql_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p183845276513"><a name="p183845276513"></a><a name="p183845276513"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p03841627155120"><a name="p03841627155120"></a><a name="p03841627155120"></a>语句的unique sql id。</p>
    </td>
    </tr>
    <tr id="row12231935141813"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p72483513183"><a name="p72483513183"></a><a name="p72483513183"></a>trace_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p7241635121816"><a name="p7241635121816"></a><a name="p7241635121816"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p22411354186"><a name="p22411354186"></a><a name="p22411354186"></a>驱动传入的trace id，与应用的一次请求相关联。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_user\_iostat\(text\)

    描述：显示和当前用户执行作业正在运行时的IO负载管理相关信息。

    返回值类型：record

    函数返回字段说明如下：

    <a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_table842513640"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row11426631846"><th class="cellrowborder" valign="top" width="14.6%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_zh-cn_topic_0059777813_a54c6f4bf1ef74329935e7c5b3d44c568"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="8.9%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54991455747"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54991455747"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54991455747"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="76.5%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1468935815411"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1468935815411"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1468935815411"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row74262318415"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54261938418"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54261938418"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p54261938418"></a>userid</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742611310413"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742611310413"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742611310413"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p114261231143"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p114261231143"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p114261231143"></a>用户id。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row7426039410"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10426203540"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10426203540"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10426203540"></a>min_curr_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242618317411"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242618317411"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242618317411"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9426131249"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9426131249"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9426131249"></a>当前该用户io在数据库节点中的最小值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row2426123642"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11426173847"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11426173847"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11426173847"></a>max_curr_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20426831246"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20426831246"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20426831246"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742603448"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742603448"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1742603448"></a>当前该用户io在数据库节点中的最大值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row542653546"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19426637419"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19426637419"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19426637419"></a>min_peak_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p44261318416"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p44261318416"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p44261318416"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154268319410"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154268319410"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154268319410"></a>该用户io峰值中，数据库节点的最小值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row3426933419"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1942620314416"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1942620314416"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1942620314416"></a>max_peak_iops</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p34263312418"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p34263312418"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p34263312418"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242615310414"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242615310414"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p242615310414"></a>该用户io峰值中，数据库节点的最大值。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row4426834414"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p14427731047"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p14427731047"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p14427731047"></a>io_limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p104271831643"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p104271831643"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p104271831643"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3427331643"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3427331643"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3427331643"></a>用户指定的资源池所设置的io_limits。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row942753841"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84272316419"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84272316419"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84272316419"></a>io_priority</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p74271935417"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p74271935417"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p74271935417"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1542716312414"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1542716312414"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1542716312414"></a>该用户所设io_priority。对于行存，以万次/s为单位；对于列存，以次/s为单位。</p>
    </td>
    </tr>
    <tr id="row5459121216528"><td class="cellrowborder" valign="top" width="14.6%" headers="mcps1.1.4.1.1 "><p id="p164601912195214"><a name="p164601912195214"></a><a name="p164601912195214"></a>curr_io_limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="8.9%" headers="mcps1.1.4.1.2 "><p id="p1946081265217"><a name="p1946081265217"></a><a name="p1946081265217"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.5%" headers="mcps1.1.4.1.3 "><p id="p1246081210522"><a name="p1246081210522"></a><a name="p1246081210522"></a>使用io_priority管控io时的实时io_limits值。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pg\_stat\_get\_function\_calls\(oid\)

    描述：函数已被调用次数。

    返回值类型：bigint

-   pg\_stat\_get\_function\_self\_time\(oid\)

    描述：只有在此函数上所花费的时间。此函数调用其它函数上花费的时间被排除在外。

    返回值类型：bigint

-   pg\_stat\_get\_backend\_idset\(\)

    描述：设置当前活动的服务器进程数（从1到活动服务器进程的数量）。

    返回值类型：setofinteger

-   pg\_stat\_get\_backend\_pid\(integer\)

    描述：给定的服务器线程的线程ID。

    返回值类型：bigint

-   pg\_stat\_get\_backend\_dbid\(integer\)

    描述：给定服务器进程的数据库ID。

    返回值类型：oid

-   pg\_stat\_get\_backend\_userid\(integer\)

    描述：给定服务器进程的用户ID。

    返回值类型：oid

-   pg\_stat\_get\_backend\_activity\(integer\)

    描述：给定服务器进程的当前活动查询，仅在调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：text

-   pg\_stat\_get\_backend\_waiting\(integer\)

    描述：如果给定服务器进程在等待某个锁，并且调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才返回真。

    返回值类型：Boolean

-   pg\_stat\_get\_backend\_activity\_start\(integer\)

    描述：给定服务器进程当前正在执行的查询的起始时间，仅在调用者是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_xact\_start\(integer\)

    描述：给定服务器进程当前正在执行的事务的开始时间，但只有当前用户是系统管理员或被查询会话的用户，并且打开track\_activities的时候才能获得结果。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_start\(integer\)

    描述：给定服务器进程启动的时间，如果当前用户不是系统管理员或被查询的后端的用户，则返回NULL。

    返回值类型：timestampwithtimezone

-   pg\_stat\_get\_backend\_client\_addr\(integer\)

    描述：连接到给定客户端后端的IP地址。如果是通过Unix域套接字连接的则返回NULL；如果当前用户不是系统管理员或被查询会话的用户，也返回NULL。

    返回值类型：inet

-   pg\_stat\_get\_backend\_client\_port\(integer\)

    描述：连接到给定客户端后端的TCP端口。如果是通过Unix域套接字连接的则返回-1；如果当前用户不是系统管理员或被查询会话的用户，也返回NULL。

    返回值类型：integer

-   pg\_stat\_get\_bgwriter\_timed\_checkpoints\(\)

    描述：后台写进程开启定时检查点的时间（因为checkpoint\_timeout时间已经过期了）。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_requested\_checkpoints\(\)

    描述：后台写进程开启基于后端请求的检查点的时间，因为已经超过了checkpoint\_segments或因为已经执行了CHECKPOINT。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_buf\_written\_checkpoints\(\)

    描述：在检查点期间后台写进程写入的缓冲区数目。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_buf\_written\_clean\(\)

    描述：为日常清理脏块，后台写进程写入的缓冲区数目。

    返回值类型：bigint

-   pg\_stat\_get\_bgwriter\_maxwritten\_clean\(\)

    描述：后台写进程停止清理扫描的时间，因为已经写入了更多的缓冲区（相比bgwriter\_lru\_maxpages参数声明的缓冲区数）。

    返回值类型：bigint

-   pg\_stat\_get\_buf\_written\_backend\(\)

    描述：后端进程写入的缓冲区数，因为它们需要分配一个新的缓冲区。

    返回值类型：bigint

-   pg\_stat\_get\_buf\_alloc\(\)

    描述：分配的总缓冲区数。

    返回值类型：bigint

-   pg\_stat\_clear\_snapshot\(\)

    描述：清理当前的统计快照。

    返回值类型：void

-   pg\_stat\_reset\(\)

    描述：为当前数据库重置统计计数器为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_shared\(text\)

    描述：重置shared cluster每个节点当前数据统计计数器为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_single\_table\_counters\(oid\)

    描述：为当前数据库中的一个表或索引重置统计为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_reset\_single\_function\_counters\(oid\)

    描述：为当前数据库中的一个函数重置统计为0（需要系统管理员权限）。

    返回值类型：void

-   pg\_stat\_session\_cu\(int, int, int\)

    描述：获取当前节点所运行session的CU命中统计信息。

    返回值类型：record

-   pg\_stat\_get\_cu\_mem\_hit\(oid\)

    描述：获取当前节点当前数据库中一个列存表的CU内存命中次数。

    返回值类型：bigint

-   pg\_stat\_get\_cu\_hdd\_sync\(oid\)

    描述：获取当前节点当前数据库中一个列存表从磁盘同步读取CU次数。

    返回值类型：bigint

-   pg\_stat\_get\_cu\_hdd\_asyn\(oid\)

    描述：获取当前节点当前数据库中一个列存表从磁盘异步读取CU次数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_cu\_mem\_hit\(oid\)

    描述：获取当前节点一个数据库CU内存命中次数。

    返回值类型：bigint

-   pg\_stat\_get\_db\_cu\_hdd\_sync\(oid\)

    描述：获取当前节点一个数据库从磁盘同步读取CU次数。

    返回值类型：bigint

-   fenced\_udf\_process\(integer\)

    描述：查看本地UDF Master和Work进程数。入参为1时查看master进程数，入参为2时查看worker进程数，入参为3时杀死所有worker进程。

    返回值类型：text

-   total\_cpu\(\)

    描述：获取当前节点使用的CPU时间，单位是jiffies。

    返回值类型：bigint

-   mot\_global\_memory\_detail\(\)

    描述：检查MOT全局内存的大小，主要包括数据和索引。

    返回值类型：record

-   mot\_local\_memory\_detail\(\)

    描述：检查MOT局部内存的大小，主要包括数据和索引。

    返回值类型：record

-   mot\_session\_memory\_detail\(\)

    描述：检查所有会话对MOT内存的使用情况。

    返回值类型：record

-   total\_memory\(\)

    描述：获取当前节点使用的虚拟内存大小，单位KB。

    返回值类型：bigint


-   pg\_stat\_get\_db\_cu\_hdd\_asyn\(oid\)

    描述：获取当前节点一个数据库从磁盘异步读取CU次数。

    返回值类型：bigint


-   pg\_stat\_bad\_block\(text, int, int, int, int, int, timestamp with time zone, timestamp with time zone\)

    描述：获取当前节点自启动后，读取出现Page/CU的损坏信息。

    例: select \* from pg\_stat\_bad\_block\(\);

    返回值类型：record

-   pg\_stat\_bad\_block\_clear\(\)

    描述：清理节点记录的读取出现的Page/CU损坏信息（需要系统管理员权限）。

    返回值类型：void

-   gs\_respool\_exception\_info\(pool text\)

    描述：查看某个资源池关联的查询规则信息。

    返回值类型：record

-   gs\_control\_group\_info\(pool text\)

    描述：查看资源池关联的控制组信息

    返回值类型：record

    返回信息如下：

    <a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_table1560939125613"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row260919925618"><th class="cellrowborder" valign="top" width="26.37736226377362%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17610179175619"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17610179175619"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17610179175619"></a>属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.44715528447155%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p361013935612"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p361013935612"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p361013935612"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.175482451754824%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461011975616"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461011975616"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461011975616"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row116109912569"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461079145611"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461079145611"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p461079145611"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p161020985611"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p161020985611"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p161020985611"></a>class_a:workload_a1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p196108914566"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p196108914566"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p196108914566"></a>class和workload名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row06106985619"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7610149125612"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7610149125612"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7610149125612"></a>class</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2610139185611"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2610139185611"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2610139185611"></a>class_a</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4610196562"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4610196562"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4610196562"></a>Class控制组名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1399384455713"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p209946441573"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p209946441573"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p209946441573"></a>workload</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p159941447578"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p159941447578"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p159941447578"></a>workload_a1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20994544125713"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20994544125713"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p20994544125713"></a>Workload控制组名称</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row8632178185817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17633882582"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17633882582"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17633882582"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p863315865812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p863315865812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p863315865812"></a>DEFWD</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p46338815818"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p46338815818"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p46338815818"></a>控制组类型（Top、CLASS、BAKWD、DEFWD、TSWD）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row19207812135811"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2208812105815"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2208812105815"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2208812105815"></a>gid</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11208161265812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11208161265812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11208161265812"></a>87</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1120816121589"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1120816121589"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1120816121589"></a>控制组id</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row01967412582"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15196164105812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15196164105812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15196164105812"></a>shares</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p619610455819"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p619610455819"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p619610455819"></a>30</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p01966445815"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p01966445815"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p01966445815"></a>占父节点CPU资源的百分比</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1931985165714"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183203516578"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183203516578"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183203516578"></a>limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7320125111571"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7320125111571"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7320125111571"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p43209514578"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p43209514578"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p43209514578"></a>占父节点CPU核数的百分比</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row148871119165810"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6887201917580"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6887201917580"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6887201917580"></a>rate</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p188871519125814"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p188871519125814"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p188871519125814"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1988821914586"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1988821914586"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1988821914586"></a>Timeshare中的分配比例</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1970717163583"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p47079162588"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p47079162588"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p47079162588"></a>cpucores</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.44715528447155%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p37074160581"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p37074160581"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p37074160581"></a>0-3</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.175482451754824%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17078161586"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17078161586"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17078161586"></a>CPU核心数</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_all\_control\_group\_info\(\)

    描述：查看数据库内所有的控制组信息。

    返回值类型：record

-   gs\_get\_control\_group\_info\(\)

    描述：查看所有的控制组信息。

    返回值类型：record

-   get\_instr\_workload\_info\(integer\)

    描述：获取数据库主节点上事务量信息，事务时间信息。

    返回值类型：record

    <a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_table11596620133817"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row2596020173814"><th class="cellrowborder" valign="top" width="26.37736226377362%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p859672013382"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p859672013382"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p859672013382"></a>属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="28.357164283571645%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65961920183815"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65961920183815"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65961920183815"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.26547345265474%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p0597320123812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p0597320123812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p0597320123812"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row9597152043813"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p85971620193814"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p85971620193814"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p85971620193814"></a>resourcepool_oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1159742018382"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1159742018382"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1159742018382"></a>10</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6251644184720"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6251644184720"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p6251644184720"></a>资源池的oid(逻辑同负载等价)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row359712053818"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p359718205387"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p359718205387"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p359718205387"></a>commit_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16597420133810"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16597420133810"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16597420133810"></a>4</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p182501441478"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p182501441478"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p182501441478"></a>前端事务commit数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1259720206381"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1559722013812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1559722013812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1559722013812"></a>rollback_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p155971720163818"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p155971720163818"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p155971720163818"></a>1</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1924994424720"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1924994424720"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1924994424720"></a>前端事务rollback数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row12597820153817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17597520103816"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17597520103816"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17597520103816"></a>resp_min</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4597420193815"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4597420193815"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p4597420193815"></a>949</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p824864494710"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p824864494710"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p824864494710"></a>前端事务最小响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row95971020153817"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1259719206384"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1259719206384"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1259719206384"></a>resp_max</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p205984208383"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p205984208383"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p205984208383"></a>201891</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p224704444712"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p224704444712"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p224704444712"></a>前端事务最大响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row95981320153810"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10598192063818"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10598192063818"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10598192063818"></a>resp_avg</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1059832019385"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1059832019385"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1059832019385"></a>43564</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7246174414712"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7246174414712"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7246174414712"></a>前端事务平均响应时间(单位：微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1059822014389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p18598420103816"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p18598420103816"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p18598420103816"></a>resp_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65985207388"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65985207388"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65985207388"></a>217822</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1224584413477"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1224584413477"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1224584413477"></a>前端事务总响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row159852013380"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p135981420193810"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p135981420193810"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p135981420193810"></a>bg_commit_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15984206380"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15984206380"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p15984206380"></a>910</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p075814565503"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p075814565503"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p075814565503"></a>后端事务commit数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row19598192013815"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p559812053810"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p559812053810"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p559812053810"></a>bg_rollback_counter</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16598152020386"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16598152020386"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16598152020386"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9769159175019"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9769159175019"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p9769159175019"></a>后端事务rollback数量</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row337414493389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p133752049173811"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p133752049173811"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p133752049173811"></a>bg_resp_min</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183757493389"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183757493389"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p183757493389"></a>97</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1192231165119"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1192231165119"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1192231165119"></a>后端事务最小响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row45313548389"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65355419381"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65355419381"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p65355419381"></a>bg_resp_max</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p175345413382"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p175345413382"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p175345413382"></a>678080687</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p76633614519"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p76633614519"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p76633614519"></a>后端事务最大响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row225795743818"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2257857123819"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2257857123819"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2257857123819"></a>bg_resp_avg</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3257257143815"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3257257143815"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p3257257143815"></a>327847884</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p13572131118512"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p13572131118512"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p13572131118512"></a>后端事务平均响应时间（单位：微秒）</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row35321851114514"><td class="cellrowborder" valign="top" width="26.37736226377362%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533951154513"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533951154513"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533951154513"></a>bg_resp_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="28.357164283571645%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533351194520"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533351194520"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7533351194520"></a>298341575300</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.26547345265474%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17865151410518"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17865151410518"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17865151410518"></a>后端事务总响应时间（单位：微秒）</p>
    </td>
    </tr>
    </tbody>
    </table>

-   pv\_instance\_time\(\)

    描述：获取当前节点上各个关键阶段的时间消耗。

    返回值类型：record

    <a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_table1149417513587"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row17494175195812"><th class="cellrowborder" valign="top" width="26.37736226377363%" id="mcps1.1.4.1.1"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p5494751165810"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p5494751165810"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p5494751165810"></a>Stat_name属性</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.317468253174685%" id="mcps1.1.4.1.2"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1049411514586"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1049411514586"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1049411514586"></a>属性值</p>
    </th>
    <th class="cellrowborder" valign="top" width="48.3051694830517%" id="mcps1.1.4.1.3"><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1349455114584"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1349455114584"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1349455114584"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row8494451135816"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p549525155814"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p549525155814"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p549525155814"></a>DB_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1733818301818"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1733818301818"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1733818301818"></a>1062385</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2337143016114"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2337143016114"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2337143016114"></a>所有线程端到端的墙上时间（WALL TIME）消耗总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row749595118581"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495105135816"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495105135816"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495105135816"></a>CPU_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p203361230316"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p203361230316"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p203361230316"></a>311777</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1833583012115"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1833583012115"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1833583012115"></a>所有线程CPU时间消耗总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row16495951175812"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495155195818"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495155195818"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1495155195818"></a>EXECUTION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10334130312"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10334130312"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p10334130312"></a>380037</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p633313302012"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p633313302012"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p633313302012"></a>消耗在执行器上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row74951351185818"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19495185135816"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19495185135816"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p19495185135816"></a>PARSE_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p733263016111"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p733263016111"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p733263016111"></a>6033</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p33313301713"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p33313301713"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p33313301713"></a>消耗在SQL解析上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row549555145818"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p164951051115813"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p164951051115813"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p164951051115813"></a>PLAN_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7330123012117"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7330123012117"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p7330123012117"></a>173356</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p03291130113"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p03291130113"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p03291130113"></a>消耗在执行计划生成上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row049565195819"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84962517584"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84962517584"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p84962517584"></a>REWRITE_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p032811304119"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p032811304119"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p032811304119"></a>2274</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p173279301214"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p173279301214"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p173279301214"></a>消耗在查询重写上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row1249618515587"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16496175175812"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16496175175812"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p16496175175812"></a>PL_EXECUTION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2032653013119"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2032653013119"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p2032653013119"></a>0</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1132512301213"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1132512301213"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1132512301213"></a>消耗在PL/SQL执行上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row7496751105819"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p94968513584"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p94968513584"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p94968513584"></a>PL_COMPILATION_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p163241730816"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p163241730816"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p163241730816"></a>557</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p632310301312"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p632310301312"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p632310301312"></a>消耗在SQL编译上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row649618515581"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154961151125814"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154961151125814"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p154961151125814"></a>NET_SEND_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1732213305119"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1732213305119"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p1732213305119"></a>1673</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p143201430118"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p143201430118"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p143201430118"></a>消耗在网络发送上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_row949616511589"><td class="cellrowborder" valign="top" width="26.37736226377363%" headers="mcps1.1.4.1.1 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17496115114582"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17496115114582"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p17496115114582"></a>DATA_IO_TIME</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.317468253174685%" headers="mcps1.1.4.1.2 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11319113017114"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11319113017114"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p11319113017114"></a>426622</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.3051694830517%" headers="mcps1.1.4.1.3 "><p id="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p113188301015"><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p113188301015"></a><a name="zh-cn_topic_0283136951_zh-cn_topic_0237121998_p113188301015"></a>消耗在数据读写上的时间总和(单位： 微秒)</p>
    </td>
    </tr>
    </tbody>
    </table>

-   DBE\_PERF.get\_global\_instance\_time\(\)

    描述：提供openGauss各个关键阶段的时间消耗，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   get\_instr\_unique\_sql\(\)

    描述：获取当前节点的执行语句（归一化SQL）信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   reset\_unique\_sql\(text, text, bigint\)

    描述：重置系统执行语句（归一化SQL）信息，执行该函数必须具有sysadmin权限。第一个参数取值范围“global/local”，global表示清理所有节点上的信息，local表示只清理当前节点；第二参数取值范围“ALL/BY\_USERID/BY\_CNID”，ALL表示清理所有信息，BY\_USERID表示通过指定USERID清理只属于该用户的sql信息，BY\_CNID表示清理系统中涉及到该数据库主节点的sql信息；第三个参数表示具体的CNID和USERID，如果第二个参数为ALL，第三个参数不起作用，可以取任意值。

    返回值类型：boolean

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >此函数中所说节点指分布式节点，当前openGauss为集中式数据库，global与local功能一致，取值范围不支持BY\_CNID。

-   get\_instr\_wait\_event\(NULL\)

    描述：获取当前节点event等待的统计信息。

    返回值类型：record

-   get\_instr\_user\_login\(\)

    描述：获取当前节点的用户登入登出次数信息，查询该函数必须具有sysadmin或者monitor admin权限。

    返回值类型：record

-   get\_instr\_rt\_percentile\(integer\)

    描述：获取数据库SQL响应时间P80,P95分布信息。

    返回值类型：record

-   get\_node\_stat\_reset\_time\(\)

    描述：获取当前节点的统计信息重置（重启，主备倒换，数据库删除）时间。

    返回值类型：record

-   DBE\_PERF.get\_global\_os\_runtime\(\)

    描述：显示当前操作系统运行的状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_os\_threads\(\)

    描述：提供openGauss中所有正常节点下的线程状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_workload\_sql\_count\(\)

    描述：提供openGauss中不同负载SELECT，UPDATE，INSERT，DELETE，DDL，DML，DCL计数信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_workload\_sql\_elapse\_time\(\)

    描述：提供openGauss中不同负载SELECT，UPDATE，INSERT，DELETE，响应时间信息（TOTAL,AVG, MIN, MAX），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_workload\_transaction\(\)

    描述：获取openGauss内所有节点上的事务量信息，事务时间信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_stat\(\)

    描述：获取openGauss节点上的会话状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >
    >状态信息有17项：commit、rollback、sql、table\_scan、blocks\_fetched、physical\_read\_operation、
    >shared\_blocks\_dirtied、local\_blocks\_dirtied、shared\_blocks\_read、local\_blocks\_read、
    >blocks\_read\_time、blocks\_write\_time、sort\_imemory、sort\_idisk、cu\_mem\_hit、
    >cu\_hdd\_sync\_read、cu\_hdd\_asyread。

-   DBE\_PERF.get\_global\_session\_time\(\)

    描述：提供openGauss各节点各个关键阶段的时间消耗，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_memory\(\)

    描述：汇聚各节点的Session级别的内存使用情况，包含执行作业在数据节点上Postgres线程和Stream线程分配的所有内存，单位为MB，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_session\_memory\_detail\(\)

    描述：汇聚各节点的线程的内存使用情况，以MemoryContext节点来统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   create\_wlm\_session\_info\(int flag\)

    描述：将当前内存中记录的TopSQL查询语句级别相关统计信息清理。该函数只有管理员用户可以执行。

    返回值类型：int

-   pg\_stat\_get\_wlm\_session\_info\(int flag\)

    描述：获取当前内存中记录的TopSQL查询语句级别相关统计信息，当传入的参数不为0时，会将这部分信息从内存中清理掉。该函数只有system admin和monitor admin用户可以执行。

    返回值类型：record

-   gs\_paxos\_stat\_replication\(\)

    描述：在主机端查询备机信息。目前只支持集中式DCF模式。

    返回值类型：setofrecord

    返回字段说明如下：

    <a name="table16852919405"></a>
    <table><tbody><tr id="row1665112920400"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p136552919401"><a name="p136552919401"></a><a name="p136552919401"></a>字段名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p1659293405"><a name="p1659293405"></a><a name="p1659293405"></a>字段类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p136592910407"><a name="p136592910407"></a><a name="p136592910407"></a>字段说明</p>
    </td>
    </tr>
    <tr id="row965132944017"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p106520295408"><a name="p106520295408"></a><a name="p106520295408"></a>local_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p1565162974013"><a name="p1565162974013"></a><a name="p1565162974013"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p1165129154019"><a name="p1165129154019"></a><a name="p1165129154019"></a>发送日志节点的角色。</p>
    </td>
    </tr>
    <tr id="row1666142974018"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p166582924019"><a name="p166582924019"></a><a name="p166582924019"></a>peer_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p765182954019"><a name="p765182954019"></a><a name="p765182954019"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p4665297408"><a name="p4665297408"></a><a name="p4665297408"></a>接收日志节点的角色。</p>
    </td>
    </tr>
    <tr id="row06612298408"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p566182912401"><a name="p566182912401"></a><a name="p566182912401"></a>local_dcf_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p1866152918409"><a name="p1866152918409"></a><a name="p1866152918409"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p96622911403"><a name="p96622911403"></a><a name="p96622911403"></a>发送日志节点的DCF角色。</p>
    </td>
    </tr>
    <tr id="row1066142984013"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p186612299403"><a name="p186612299403"></a><a name="p186612299403"></a>peer_dcf_role</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p106622984019"><a name="p106622984019"></a><a name="p106622984019"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p56620298405"><a name="p56620298405"></a><a name="p56620298405"></a>接收日志节点的DCF角色。</p>
    </td>
    </tr>
    <tr id="row96619291401"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p1666729144013"><a name="p1666729144013"></a><a name="p1666729144013"></a>peer_state</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p10669292402"><a name="p10669292402"></a><a name="p10669292402"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p2066429144015"><a name="p2066429144015"></a><a name="p2066429144015"></a>接收日志节点的状态。</p>
    </td>
    </tr>
    <tr id="row16619291400"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p166202920402"><a name="p166202920402"></a><a name="p166202920402"></a>sender_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p5663292405"><a name="p5663292405"></a><a name="p5663292405"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p10661294406"><a name="p10661294406"></a><a name="p10661294406"></a>发送日志节点写到xlog buffer的位置。</p>
    </td>
    </tr>
    <tr id="row15671729154013"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p106613299405"><a name="p106613299405"></a><a name="p106613299405"></a>sender_commit_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p86642916405"><a name="p86642916405"></a><a name="p86642916405"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p15661229164014"><a name="p15661229164014"></a><a name="p15661229164014"></a>发送日志节点DCF日志达成一致性点。</p>
    </td>
    </tr>
    <tr id="row2067229184017"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p567152910409"><a name="p567152910409"></a><a name="p567152910409"></a>sender_flush_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p136717297405"><a name="p136717297405"></a><a name="p136717297405"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p16752912402"><a name="p16752912402"></a><a name="p16752912402"></a>发送日志节点写到xlog disk的位置。</p>
    </td>
    </tr>
    <tr id="row206719299402"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p186772984013"><a name="p186772984013"></a><a name="p186772984013"></a>sender_replay_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p067629134011"><a name="p067629134011"></a><a name="p067629134011"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p1767142910409"><a name="p1767142910409"></a><a name="p1767142910409"></a>发送日志节点replay的位置。</p>
    </td>
    </tr>
    <tr id="row86719290408"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p1967112964016"><a name="p1967112964016"></a><a name="p1967112964016"></a>receiver_write_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p136762984011"><a name="p136762984011"></a><a name="p136762984011"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p106713297406"><a name="p106713297406"></a><a name="p106713297406"></a>接收日志节点写到xlog buffer的位置。</p>
    </td>
    </tr>
    <tr id="row20671829124015"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p26710290408"><a name="p26710290408"></a><a name="p26710290408"></a>receiver_commit_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p156715294409"><a name="p156715294409"></a><a name="p156715294409"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p1067192917402"><a name="p1067192917402"></a><a name="p1067192917402"></a>接收日志节点DCF日志达成一致性点。</p>
    </td>
    </tr>
    <tr id="row1467142910409"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p116722918403"><a name="p116722918403"></a><a name="p116722918403"></a>receiver_flush_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p19671629154013"><a name="p19671629154013"></a><a name="p19671629154013"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p126712912406"><a name="p126712912406"></a><a name="p126712912406"></a>接收日志节点写到xlog disk的位置。</p>
    </td>
    </tr>
    <tr id="row126872934013"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p968162914012"><a name="p968162914012"></a><a name="p968162914012"></a>receiver_replay_location</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p568529174019"><a name="p568529174019"></a><a name="p568529174019"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p36842994013"><a name="p36842994013"></a><a name="p36842994013"></a>接收日志节点重演xlog的位置。</p>
    </td>
    </tr>
    <tr id="row1868129124019"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p1168829204020"><a name="p1168829204020"></a><a name="p1168829204020"></a>sync_percent</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p116892994017"><a name="p116892994017"></a><a name="p116892994017"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p7681929164017"><a name="p7681929164017"></a><a name="p7681929164017"></a>同步百分比。</p>
    </td>
    </tr>
    <tr id="row1468529144020"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p18681298406"><a name="p18681298406"></a><a name="p18681298406"></a>dcf_run_mode</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p668102934015"><a name="p668102934015"></a><a name="p668102934015"></a>int4</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p156862934015"><a name="p156862934015"></a><a name="p156862934015"></a>DCF同步模式。</p>
    </td>
    </tr>
    <tr id="row26822974013"><td class="cellrowborder" valign="top" width="25.762576257625764%"><p id="p10681329164013"><a name="p10681329164013"></a><a name="p10681329164013"></a>channel</p>
    </td>
    <td class="cellrowborder" valign="top" width="13.46134613461346%"><p id="p136862916408"><a name="p136862916408"></a><a name="p136862916408"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.77607760776078%"><p id="p56816298407"><a name="p56816298407"></a><a name="p56816298407"></a>信道信息。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_wlm\_get\_resource\_pool\_info\(int\)

    描述：获取所有用户的资源使用统计信息，入参为int类型可以为可以为任意int值或NULL。

    返回值类型：record

-   gs\_wlm\_get\_all\_user\_resource\_info\(\)

    描述：获取所有用户的资源使用统计信息。

    返回值类型：record

-   gs\_wlm\_get\_user\_info\(int\)

    描述：获取所有用户的相关信息，入参为int类型可以为可以为任意int值或NULL。该函数只有sysadmin权限的用户可以执行。

    返回值类型：record

-   gs\_wlm\_get\_workload\_records\(\)

    描述：获取动态负载管理下的所有作业信息，该函数只在动态负载管理开的情况下有效。

    返回值类型：record

-   gs\_wlm\_readjust\_user\_space\(\)

    描述：修正所有用户的存储空间使用情况。该函数只有管理员用户可以执行。

    返回值类型：record

-   gs\_wlm\_readjust\_user\_space\_through\_username\(text name\)

    描述：修正指定用户的存储空间使用情况。该函数普通用户只能修正自己的使用情况，只有管理员用户可以修正所有用户的使用情况。当name指定位“0000”，表示需要修正所有用户的使用情况。

    返回值类型：record

-   gs\_wlm\_readjust\_user\_space\_with\_reset\_flag\(text name, boolean isfirst\)

    描述：修正指定用户的存储空间使用情况。入参isfirst为true表示从0开始统计，否则从上一次结果继续统计。该函数普通用户只能修正自己的使用情况，只有管理员用户可以修正所有用户的使用情况。当name指定位“0000”，表示需要修正所有用户的使用情况。

    返回值类型：record

-   gs\_wlm\_session\_respool\(bigint\)

    描述：获取当前所有后台线程的session resouce pool相关信息，入参为bigint类型可以为可以为任意bigint值或NULL。

    返回值类型：record

-   gs\_wlm\_get\_session\_info\(\)

    描述：目前该接口已废弃，暂不可用。

-   gs\_wlm\_get\_user\_session\_info\(\)

    描述：目前该接口已废弃，暂不可用。

-   gs\_io\_wait\_status\(\)

    描述：目前该接口不支持单机和集中式，暂不可用。

-   global\_stat\_get\_hotkeys\_info\(\)

    描述：获取整个数据库实例中热点key的统计情况。目前该接口不支持单机和集中式，暂不可用。

-   global\_stat\_clean\_hotkeys\(\)

    描述：清理整个数据库实例中热点key的统计信息。目前该接口不支持单机和集中式，暂不可用。


-   DBE\_PERF.get\_global\_session\_stat\_activity\(\)

    描述：汇聚openGauss内各节点上正在运行的线程相关的信息，查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_thread\_wait\_status\(\)

    描述：汇聚所有节点上工作线程（backend thread）以及辅助线程（auxiliary thread）的阻塞等待情况，查询该函数必须具有sysadmin和monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_history\_table\(\)

    描述：汇聚当前用户数据库主节点上执行作业结束后的算子相关记录（持久化），查询该函数必须具有sysadmin和monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_history\(\)

    描述：汇聚当前用户数据库主节点上执行作业结束后的算子相关记录，查询该函数必须具有sysadmin和monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_operator\_runtime\(\)

    描述：汇聚当前用户数据库主节点上执行作业实时的算子相关记录，查询该函数必须具有sysadmin和monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_history\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的历史记录，查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_history\_table\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的历史记录（持久化），查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_complex\_runtime\(\)

    描述：汇聚当前用户数据库主节点上复杂查询的实时信息，查询该函数必须具有sysadmin和monadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_memory\_node\_detail\(\)

    描述：汇聚所有节点某个数据库节点内存使用情况，查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_shared\_memory\_detail\(\)

    描述：汇聚所有节点已产生的共享内存上下文的使用信息，查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_indexes\(\)

    描述：汇聚所有节点当前数据库中的每个索引行，显示特定索引的I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_all\_tables\(\)

    描述：显示汇聚各节点数据中每个表（包括TOAST表）的一行的统计信息

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_all\_tables\(\)

    描述：显示各节点数据中每个表（包括TOAST表）的一行的统计信息。

    返回值类型：record

-   DBE\_PERF.get\_local\_toastname\_and\_toastindexname\(\)

    描述：提供本地toast表的name和index和其关联表的对应关系，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_all\_indexes\(\)

    描述：统计所有节点当前数据库中的每个索引行，显示特定索引的I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_sequences\(\)

    描述：提供命名空间中所有sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_all\_tables\(\)

    描述：汇聚各节点的数据库中每个表I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_all\_tables\(\)

    描述：统计openGauss内数据库中每个表I/O的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_local\_toast\_relation\(\)

    描述：提供本地toast表的name和其关联表的对应关系，查询该函数必须具有sysadmin权限

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_indexes\(\)

    描述：汇聚各节点的命名空间中所有系统表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_sys\_indexes\(\)

    描述：统计各节点的命名空间中所有系统表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_sequences\(\)

    描述：提供命名空间中所有系统表为sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_sys\_tables\(\)

    描述：提供各节点的命名空间中所有系统表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_sys\_tables\(\)

    描述：openGauss内汇聚命名空间中所有系统表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_indexes\(\)

    描述：各节点的命名空间中所有用户关系表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_user\_indexes\(\)

    描述：openGauss内汇聚命名空间中所有用户关系表索引的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_sequences\(\)

    描述：显示各节点的命名空间中所有用户的sequences的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statio\_user\_tables\(\)

    描述：显示各节点的命名空间中所有用户关系表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statio\_user\_tables\(\)

    描述：openGauss内汇聚命名空间中所有用户关系表的IO状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_stat\_db\_cu\(\)

    描述：视图查询openGauss各个节点，每个数据库的CU命中情况，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_all\_indexes\(\)

    描述：汇聚所有节点数据库中每个索引的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_all\_indexes\(\)

    描述：统计所有节点数据库中每个索引的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_sys\_tables\(\)

    描述：汇聚各节点pg\_catalog、information\_schema模式的所有命名空间中系统表的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_sys\_tables\(\)

    描述：统计各节点pg\_catalog、information\_schema模式的所有命名空间中系统表的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_sys\_indexes\(\)

    描述：汇聚各节点pg\_catalog、information\_schema模式中所有系统表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_sys\_indexes\(\)

    描述：统计各节点pg\_catalog、information\_schema模式中所有系统表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_tables\(\)

    描述：汇聚所有命名空间中用户自定义普通表的状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_user\_tables\(\)

    描述：统计所有命名空间中用户自定义普通表的状态信息，查询该函数必须具有monitoradmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_indexes\(\)

    描述：汇聚所有数据库中用户自定义普通表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_user\_indexes\(\)

    描述：统计所有数据库中用户自定义普通表的索引状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_database\(\)

    描述：汇聚所有节点数据库统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_database\_conflicts\(\)

    描述：统计所有节点数据库统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_all\_tables\(\)

    描述：汇聚命名空间中所有普通表和toast表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_all\_tables\(\)

    描述：统计命名空间中所有普通表和toast表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_sys\_tables\(\)

    描述：汇聚所有节点命名空间中系统表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_sys\_tables\(\)

    描述：统计所有节点命名空间中系统表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_user\_tables\(\)

    描述：汇聚所有节点命名空间中用户表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_stat\_xact\_user\_tables\(\)

    描述：统计所有节点命名空间中用户表的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_user\_functions\(\)

    描述：汇聚所有节点命名空间中用户定义函数的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_xact\_user\_functions\(\)

    描述：统计所有节点命名空间中用户定义函数的事务状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_stat\_bad\_block\(\)

    描述：汇聚所有节点表、索引等文件的读取失败信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_file\_redo\_iostat\(\)

    描述：统计所有节点表、索引等文件的读取失败信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_file\_iostat\(\)

    描述：汇聚所有节点数据文件IO的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_locks\(\)

    描述：汇聚所有节点的锁信息，查询该函数必须具有sysadmin和monadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_replication\_slots\(\)

    描述：汇聚所有节点上逻辑复制信息，查询该函数必须具有sysadmin和monadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_bgwriter\_stat\(\)

    描述：汇聚所有节点后端写进程活动的统计信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_replication\_stat\(\)

    描述：汇聚各节点日志同步状态信息，如发起端发送日志位置，收端接收日志位置等，查询该函数必须具有sysadmin和monadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_transactions\_running\_xacts\(\)

    描述：汇聚各节点运行事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_transactions\_running\_xacts\(\)

    描述：统计各节点运行事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_transactions\_prepared\_xacts\(\)

    描述：汇聚各节点当前准备好进行两阶段提交的事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_transactions\_prepared\_xacts\(\)

    描述：统计各节点当前准备好进行两阶段提交的事务的信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_statement\(\)

    描述：汇聚各节点历史执行语句状态信息，查询该函数必须具有monitor admin和sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_statement\_count\(\)

    描述：汇聚各节点SELECT，UPDATE，INSERT，DELETE，响应时间信息（TOTAL,AVG, MIN, MAX），查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_config\_settings\(\)

    描述：汇聚各节点GUC参数配置信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_wait\_events\(\)

    描述：汇聚各节点wait events状态信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_statement\_responsetime\_percentile\(\)

    描述：获取openGaussSQL响应时间P80，P95分布信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_summary\_user\_login\(\)

    描述：统计openGauss各节点用户登入登出次数信息，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.get\_global\_record\_reset\_time\(\)

    描述：汇聚openGauss统计信息重置（重启，主备倒换，数据库删除）时间，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.track\_memory\_context\(context\_list text\)

    描述：设置需要统计内存申请详细信息的内存上下文。入参为内存上下文的名称，使用“，”分隔，如“ThreadTopMemoryContext, SessionCacheMemoryContext”，注意该内存上下文名称是上下文敏感的。此外，单个内存上下文的长度为63，超过的部分会被截断。而且一次能够统计的内存上下文上限为16个，设置超过16个内存上下文会设置失败。每一次调用该函数都会将上次统计的结果清空，当入参指定为“”时，表示取消该统计功能。只有初始用户（super user）或者具有monadmin权限的用户可以执行该函数。

    返回值类型：boolean

-   DBE\_PERF.track\_memory\_context\_detail\(\)

    描述：获取DBE\_PERF.track\_memory\_context函数指定的内存上下文的内存申请详细信息。返回值的定义见视图DBE\_PERF.track\_memory\_context\_detail。只有初始用户（super user）或者具有monadmin权限的用户可以执行该函数。

    返回值类型：record

-   pg\_stat\_get\_mem\_mbytes\_reserved\(tid\)

    描述：统计资源管理相关变量值，仅用于定位问题使用。

    参数：线程id。

    返回值类型：text

-   gs\_wlm\_user\_resource\_info\(name text\)

    描述：查询具体某个用户的资源限额和资源使用情况。

    返回值类型：record

-   pg\_stat\_get\_file\_stat\(\)

    描述：通过对数据文件IO的统计，反映数据的IO性能，用以发现IO操作异常等性能问题。

    返回值类型: record

-   pg\_stat\_get\_redo\_stat\(\)

    描述：用于统计会话线程日志回放情况。

    返回值类型: record

-   pg\_stat\_get\_status\(int8\)

    描述：可以检测当前实例中工作线程（backend thread）以及辅助线程（auxiliary thread）的阻塞等待情况。

    返回值类型：record

-   get\_local\_rel\_iostat\(\)

    描述：查询当前节点的数据文件IO状态累计值。

    返回值类型：record

-   DBE\_PERF.get\_global\_rel\_iostat\(\)

    描述：汇聚所有节点数据文件IO的统计，查询该函数必须具有sysadmin权限。

    返回值类型：record

-   DBE\_PERF.global\_threadpool\_status\(\)

    描述：显示在所有节点上的线程池中工作线程及会话的状态信息。函数返回信息具体字段[GLOBAL\_THREADPOOL\_STATUS](GLOBAL_THREADPOOL_STATUS.md)字段。

    返回值类型：record

-   remote\_bgwriter\_stat\(\)

    描述：显示数据库所有实例的bgwriter线程刷页信息，候选buffer链中页面个数，buffer淘汰信息（本节点除外、DN上不可使用）。

    返回值类型：record

-   pv\_os\_run\_info

    描述：显示当前操作系统运行的状态信息，具体字段信息参考[GS\_OS\_RUN\_INFO](../DatabaseReference/GS_OS_RUN_INFO.md)。

    参数：nan

    返回值类型：setof record

-   pv\_session\_stat

    描述：以会话线程或AutoVacuum线程为单位，统计会话状态信息，具体字段信息参考[GS\_SESSION\_STAT](../DatabaseReference/GS_SESSION_STAT.md)。

    参数：nan

    返回值类型：setof record

-   pv\_session\_time

    描述：用于统计会话线程的运行时间信息，及各执行阶段所消耗时间，具体字段信息参考[GS\_SESSION\_TIME](../DatabaseReference/GS_SESSION_TIME.md)。

    参数：nan

    返回值类型：setof record

-   pg\_stat\_get\_db\_temp\_bytes

    描述：用于统计通过数据库查询写入临时文件的数据总量。计算所有临时文件，不论为什么创建临时文件，而且不管log\_temp\_files设置。

    参数：oid

    返回值类型：bigint

-   pg\_stat\_get\_db\_temp\_files

    描述：通过数据库查询创建的临时文件数量。计算所有临时文件，不论为什么创建临时文件（比如排序或者哈希），而且不管log\_temp\_files设置。

    参数：oid

    返回值类型：bigint

-   remote\_candidate\_stat\(\)

    描述：用于显示数据库所有实例的检查点信息和各类日志刷页情况（本节点除外），集中式不支持。

    返回值类型：record


-   dbe\_perf.gs\_stat\_activity\_timeout\(int\)

    描述：获取当前节点上执行时间超过超时阈值的查询作业信息。需要GUC参数track\_activities设置为on才能正确返回结果。超时阈值的取值范围是0\~2147483。

    返回值类型：setof record

    <a name="table975614311360"></a>
    <table><thead align="left"><tr id="row175723117360"><th class="cellrowborder" valign="top" width="23%" id="mcps1.1.4.1.1"><p id="p4757231113617"><a name="p4757231113617"></a><a name="p4757231113617"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="14.000000000000002%" id="mcps1.1.4.1.2"><p id="p1675713193611"><a name="p1675713193611"></a><a name="p1675713193611"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63%" id="mcps1.1.4.1.3"><p id="p4757193118368"><a name="p4757193118368"></a><a name="p4757193118368"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1757193163615"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p2757631103613"><a name="p2757631103613"></a><a name="p2757631103613"></a>database</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p10757123103619"><a name="p10757123103619"></a><a name="p10757123103619"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p127571931193619"><a name="p127571931193619"></a><a name="p127571931193619"></a>用户会话连接的数据库名称。</p>
    </td>
    </tr>
    <tr id="row1475716311369"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p10757183143616"><a name="p10757183143616"></a><a name="p10757183143616"></a>pid</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p675712312361"><a name="p675712312361"></a><a name="p675712312361"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p47571331183613"><a name="p47571331183613"></a><a name="p47571331183613"></a>后台线程ID。</p>
    </td>
    </tr>
    <tr id="row127571731173616"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p875763123616"><a name="p875763123616"></a><a name="p875763123616"></a>sessionid</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p27571931123613"><a name="p27571931123613"></a><a name="p27571931123613"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p187571431153613"><a name="p187571431153613"></a><a name="p187571431153613"></a>会话ID。</p>
    </td>
    </tr>
    <tr id="row1675819312369"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p375803112361"><a name="p375803112361"></a><a name="p375803112361"></a>usesysid</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p27581831153612"><a name="p27581831153612"></a><a name="p27581831153612"></a>oid</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p575818311366"><a name="p575818311366"></a><a name="p575818311366"></a>登录该后台的用户OID。</p>
    </td>
    </tr>
    <tr id="row157587319365"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p1075893117368"><a name="p1075893117368"></a><a name="p1075893117368"></a>application_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p5758113114362"><a name="p5758113114362"></a><a name="p5758113114362"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p0758183113614"><a name="p0758183113614"></a><a name="p0758183113614"></a>连接到该后台的应用名。</p>
    </td>
    </tr>
    <tr id="row675815319366"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p11758183111365"><a name="p11758183111365"></a><a name="p11758183111365"></a>query</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p187582314366"><a name="p187582314366"></a><a name="p187582314366"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p9958411164014"><a name="p9958411164014"></a><a name="p9958411164014"></a>该后台正在执行的查询。</p>
    </td>
    </tr>
    <tr id="row1775813313364"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p8758193119369"><a name="p8758193119369"></a><a name="p8758193119369"></a>xact_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p8758331143619"><a name="p8758331143619"></a><a name="p8758331143619"></a>timestamptz</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p4758133153614"><a name="p4758133153614"></a><a name="p4758133153614"></a>启动当前事务的时间。</p>
    </td>
    </tr>
    <tr id="row1675818318362"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p57581331123617"><a name="p57581331123617"></a><a name="p57581331123617"></a>query_start</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p8394162712488"><a name="p8394162712488"></a><a name="p8394162712488"></a>timestamptz</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p890615614815"><a name="p890615614815"></a><a name="p890615614815"></a>开始当前查询的时间。</p>
    </td>
    </tr>
    <tr id="row207586318365"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p7758331163615"><a name="p7758331163615"></a><a name="p7758331163615"></a>query_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p1539104464813"><a name="p1539104464813"></a><a name="p1539104464813"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p121591542134811"><a name="p121591542134811"></a><a name="p121591542134811"></a>查询语句ID。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_wlm\_user\_resource\_info\(name text\)

    描述：查询具体某个用户的资源限额和资源使用情况。普通用户只能查询到自己相关的信息，管理员权限的用户可以查看全部用户的信息。

    返回值类型：record

-   create\_wlm\_instance\_statistics\_info

    描述：将当前实例的历史监控数据进行持久化保存。

    参数：nan

    返回值类型：integer

-   gs\_session\_memory

    描述：统计Session级别的内存使用情况，包含执行作业在数据节点上Postgres线程和Stream线程分配的所有内存。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >若GUC参数enable\_memory\_limit=off，该函数不能使用。

    返回值类型：record

    **表 8**  返回值说明

    <a name="zh-cn_topic_0059778767_t953e37afd21641229bbccf7b10f8ae94"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0059778767_rad825274bf5e49cebafef1d184ef1c6c"><th class="cellrowborder" valign="top" width="19.23%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0059778767_ae6a72d70e64d4cc986cdaa013c32cdb7"><a name="zh-cn_topic_0059778767_ae6a72d70e64d4cc986cdaa013c32cdb7"></a><a name="zh-cn_topic_0059778767_ae6a72d70e64d4cc986cdaa013c32cdb7"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.1%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0059778767_ac7d91c874038453b92277f263009bb69"><a name="zh-cn_topic_0059778767_ac7d91c874038453b92277f263009bb69"></a><a name="zh-cn_topic_0059778767_ac7d91c874038453b92277f263009bb69"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="68.67%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0059778767_a9b73ab5d2d2945b68b3a1a5357e1ecee"><a name="zh-cn_topic_0059778767_a9b73ab5d2d2945b68b3a1a5357e1ecee"></a><a name="zh-cn_topic_0059778767_a9b73ab5d2d2945b68b3a1a5357e1ecee"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0059778767_ra3f41aa6c9b14ef2a0542e658a67fe01"><td class="cellrowborder" valign="top" width="19.23%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0059778767_acb0d72afd1134a91a1740e7f827e44a5"><a name="zh-cn_topic_0059778767_acb0d72afd1134a91a1740e7f827e44a5"></a><a name="zh-cn_topic_0059778767_acb0d72afd1134a91a1740e7f827e44a5"></a>sessid</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0059778767_a1fda091ce53140a8b8a20ef9a53c2204"><a name="zh-cn_topic_0059778767_a1fda091ce53140a8b8a20ef9a53c2204"></a><a name="zh-cn_topic_0059778767_a1fda091ce53140a8b8a20ef9a53c2204"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0059778767_a6e3e3ca87b764c4e91581aa131a58bad"><a name="zh-cn_topic_0059778767_a6e3e3ca87b764c4e91581aa131a58bad"></a><a name="zh-cn_topic_0059778767_a6e3e3ca87b764c4e91581aa131a58bad"></a>线程启动时间+线程标识。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0059778767_r96a8c34acda241da9f2215d05a90993c"><td class="cellrowborder" valign="top" width="19.23%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0059778767_a878d685a07034ffbb27389d056436465"><a name="zh-cn_topic_0059778767_a878d685a07034ffbb27389d056436465"></a><a name="zh-cn_topic_0059778767_a878d685a07034ffbb27389d056436465"></a>init_mem</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0059778767_a6cabe1ae4912424eb877060615cb7f9f"><a name="zh-cn_topic_0059778767_a6cabe1ae4912424eb877060615cb7f9f"></a><a name="zh-cn_topic_0059778767_a6cabe1ae4912424eb877060615cb7f9f"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0059778767_acb7c29cd039b41d8a5d8216fc02e8123"><a name="zh-cn_topic_0059778767_acb7c29cd039b41d8a5d8216fc02e8123"></a><a name="zh-cn_topic_0059778767_acb7c29cd039b41d8a5d8216fc02e8123"></a>当前正在执行作业进入执行器前已分配的内存，单位MB。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0059778767_r91694bd189574d56810e69097bbf834c"><td class="cellrowborder" valign="top" width="19.23%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0059778767_a75e18b6fc61b4edd8282dcea9e346a2d"><a name="zh-cn_topic_0059778767_a75e18b6fc61b4edd8282dcea9e346a2d"></a><a name="zh-cn_topic_0059778767_a75e18b6fc61b4edd8282dcea9e346a2d"></a>used_mem</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0059778767_a1eaf7263ec7546fdb2ac141403f30768"><a name="zh-cn_topic_0059778767_a1eaf7263ec7546fdb2ac141403f30768"></a><a name="zh-cn_topic_0059778767_a1eaf7263ec7546fdb2ac141403f30768"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0059778767_aa7cc81c4c67c493ca6b36fa4b6447c6f"><a name="zh-cn_topic_0059778767_aa7cc81c4c67c493ca6b36fa4b6447c6f"></a><a name="zh-cn_topic_0059778767_aa7cc81c4c67c493ca6b36fa4b6447c6f"></a>当前正在执行作业已分配的内存，单位MB。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0059778767_r70b48f0daa984fcaa1403cd602025909"><td class="cellrowborder" valign="top" width="19.23%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0059778767_afe664db10a30490e9098541b3833f317"><a name="zh-cn_topic_0059778767_afe664db10a30490e9098541b3833f317"></a><a name="zh-cn_topic_0059778767_afe664db10a30490e9098541b3833f317"></a>peak_mem</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0059778767_a72345cd720cc4d07b1eeea114cf91f3e"><a name="zh-cn_topic_0059778767_a72345cd720cc4d07b1eeea114cf91f3e"></a><a name="zh-cn_topic_0059778767_a72345cd720cc4d07b1eeea114cf91f3e"></a>integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="68.67%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0059778767_af966680339924b15a8a037f81355b40d"><a name="zh-cn_topic_0059778767_af966680339924b15a8a037f81355b40d"></a><a name="zh-cn_topic_0059778767_af966680339924b15a8a037f81355b40d"></a>当前正在执行作业已分配的内存峰值，单位MB。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_wlm\_persistent\_user\_resource\_info\(\)

    描述：将当前所有的用户资源使用统计信息归档到gs\_wlm\_user\_resource\_history系统表中，只有sysadmin有权限查询。

    返回值类型：record

-   create\_wlm\_operator\_info\(int flag\)

    描述：将当前内存中记录的TopSQL算子级别相关统计信息清理，当传入的参数大于0时，会将这部分信息归档到gs\_wlm\_operator\_info和gs\_wlm\_ec\_operator\_info中，否则不会归档。该函数只有sysadmin权限的用户可以执行。

    返回值类型：int

-   GS\_ALL\_NODEGROUP\_CONTROL\_GROUP\_INFO\(text\)

    描述：提供了所有逻辑数据库实例的控制组信息。该函数在调用的时候需要指定要查询逻辑数据库实例的名称。例如要查询'InstallationGuide'逻辑数据库实例的控制组信息：

    ```
    SELECT * FROM GS_ALL_NODEGROUP_CONTROL_GROUP_INFO('InstallationGuide')
    ```

    返回值类型：record

    函数返回字段如下：

    <a name="t8f0334486f934453827d563b90c86711"></a>
    <table><thead align="left"><tr id="r2a0276b542d54fd0808927c2c54b0fc6"><th class="cellrowborder" valign="top" width="23%" id="mcps1.1.4.1.1"><p id="a5579cdd06a5645b3862144b2131a8649"><a name="a5579cdd06a5645b3862144b2131a8649"></a><a name="a5579cdd06a5645b3862144b2131a8649"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="14.000000000000002%" id="mcps1.1.4.1.2"><p id="a1f7bf547d07e4656a132c0e34ba635ca"><a name="a1f7bf547d07e4656a132c0e34ba635ca"></a><a name="a1f7bf547d07e4656a132c0e34ba635ca"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63%" id="mcps1.1.4.1.3"><p id="a8447f6b31ba54199a8224fea8463c23d"><a name="a8447f6b31ba54199a8224fea8463c23d"></a><a name="a8447f6b31ba54199a8224fea8463c23d"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="rf8b75b68e6a24e29931035876b3c3dfb"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="a8f18d3f0e5cd44d096020df47ca28e00"><a name="a8f18d3f0e5cd44d096020df47ca28e00"></a><a name="a8f18d3f0e5cd44d096020df47ca28e00"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="aecd744296d7d4b0397b2fe1fd923b6bf"><a name="aecd744296d7d4b0397b2fe1fd923b6bf"></a><a name="aecd744296d7d4b0397b2fe1fd923b6bf"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a8579d68414bb40968ecb2f54fd50bfa3"><a name="a8579d68414bb40968ecb2f54fd50bfa3"></a><a name="a8579d68414bb40968ecb2f54fd50bfa3"></a>控制组的名称。</p>
    </td>
    </tr>
    <tr id="r685dd7e8104e4020b260711d0d1cf9a9"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="ad7f3b45edf4748ef8bf45be74968b4ac"><a name="ad7f3b45edf4748ef8bf45be74968b4ac"></a><a name="ad7f3b45edf4748ef8bf45be74968b4ac"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="a0b778f8c6817439484fd5f0cb1d91e8b"><a name="a0b778f8c6817439484fd5f0cb1d91e8b"></a><a name="a0b778f8c6817439484fd5f0cb1d91e8b"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="abd4a7662d8784ec1890fd6e25a2ce17d"><a name="abd4a7662d8784ec1890fd6e25a2ce17d"></a><a name="abd4a7662d8784ec1890fd6e25a2ce17d"></a>控制组的类型。</p>
    </td>
    </tr>
    <tr id="r45542ef0924c49f2a21c540acd3c90e3"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="a09bb26374b104b3fb29bbe2a80ef226a"><a name="a09bb26374b104b3fb29bbe2a80ef226a"></a><a name="a09bb26374b104b3fb29bbe2a80ef226a"></a>gid</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="abe1aa36777e444c48c10c68dea6d28bd"><a name="abe1aa36777e444c48c10c68dea6d28bd"></a><a name="abe1aa36777e444c48c10c68dea6d28bd"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a08d938eccee84d42b9018a66f6b6784c"><a name="a08d938eccee84d42b9018a66f6b6784c"></a><a name="a08d938eccee84d42b9018a66f6b6784c"></a>控制组ID。</p>
    </td>
    </tr>
    <tr id="ra3bccb8528cd408aa54f8e30557c0359"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="ac1f1c391b720448fb6cff2861dc151b6"><a name="ac1f1c391b720448fb6cff2861dc151b6"></a><a name="ac1f1c391b720448fb6cff2861dc151b6"></a>classgid</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p84741447191914"><a name="p84741447191914"></a><a name="p84741447191914"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a83dfda58a9ac418fab57f167cd4a8244"><a name="a83dfda58a9ac418fab57f167cd4a8244"></a><a name="a83dfda58a9ac418fab57f167cd4a8244"></a>Workload所属Class的控制组ID。</p>
    </td>
    </tr>
    <tr id="rd7538143f1a648d2ae003ee563237226"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="adad82d644319412cb3a8d9cb60daa836"><a name="adad82d644319412cb3a8d9cb60daa836"></a><a name="adad82d644319412cb3a8d9cb60daa836"></a>class</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="a0a0c18f59f1a47bdb17413bbe1716f3a"><a name="a0a0c18f59f1a47bdb17413bbe1716f3a"></a><a name="a0a0c18f59f1a47bdb17413bbe1716f3a"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a2fe293248c694ffd9fe3f04bdf3a3f6d"><a name="a2fe293248c694ffd9fe3f04bdf3a3f6d"></a><a name="a2fe293248c694ffd9fe3f04bdf3a3f6d"></a>Class控制组。</p>
    </td>
    </tr>
    <tr id="ra831355d65f64e7b92f51f84021f4947"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="a71cd5950d6ef4ea888015a515726ccf1"><a name="a71cd5950d6ef4ea888015a515726ccf1"></a><a name="a71cd5950d6ef4ea888015a515726ccf1"></a>workload</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="a9193af9c57084a81b157fec2c2935f90"><a name="a9193af9c57084a81b157fec2c2935f90"></a><a name="a9193af9c57084a81b157fec2c2935f90"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a8900dd32319f4d53937621db1727f5cf"><a name="a8900dd32319f4d53937621db1727f5cf"></a><a name="a8900dd32319f4d53937621db1727f5cf"></a>Workload控制组。</p>
    </td>
    </tr>
    <tr id="rdb4c5c3a41fb4325a8c11787c3af82b1"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="ab44539456dc4418bbfdc32a89a1f2851"><a name="ab44539456dc4418bbfdc32a89a1f2851"></a><a name="ab44539456dc4418bbfdc32a89a1f2851"></a>shares</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="a17a7c300ce604cd380d8340e5bfa63c3"><a name="a17a7c300ce604cd380d8340e5bfa63c3"></a><a name="a17a7c300ce604cd380d8340e5bfa63c3"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="aad54cacd015d4619bf9acb9cb4736cd3"><a name="aad54cacd015d4619bf9acb9cb4736cd3"></a><a name="aad54cacd015d4619bf9acb9cb4736cd3"></a>控制组分配的CPU资源配额。</p>
    </td>
    </tr>
    <tr id="r47bd7dff24334c239af7266eeeb52c2b"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="a97cfc7c8c5c8412aa7b03489d5df0b8a"><a name="a97cfc7c8c5c8412aa7b03489d5df0b8a"></a><a name="a97cfc7c8c5c8412aa7b03489d5df0b8a"></a>limits</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="ac0400ce695b945b89702ff50805ac554"><a name="ac0400ce695b945b89702ff50805ac554"></a><a name="ac0400ce695b945b89702ff50805ac554"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="a04d603fa66434a178026e29847b76f40"><a name="a04d603fa66434a178026e29847b76f40"></a><a name="a04d603fa66434a178026e29847b76f40"></a>控制组分配的CPU资源限额。</p>
    </td>
    </tr>
    <tr id="row5504610171814"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p105051710131812"><a name="p105051710131812"></a><a name="p105051710131812"></a>wdlevel</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p20505010181817"><a name="p20505010181817"></a><a name="p20505010181817"></a>bigint</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p25051510141815"><a name="p25051510141815"></a><a name="p25051510141815"></a>Workload控制组层级。</p>
    </td>
    </tr>
    <tr id="row15968121961816"><td class="cellrowborder" valign="top" width="23%" headers="mcps1.1.4.1.1 "><p id="p149683193188"><a name="p149683193188"></a><a name="p149683193188"></a>cpucores</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.1.4.1.2 "><p id="p14968519121811"><a name="p14968519121811"></a><a name="p14968519121811"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="63%" headers="mcps1.1.4.1.3 "><p id="p19681196183"><a name="p19681196183"></a><a name="p19681196183"></a>控制组使用的CPU核的信息。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_total\_nodegroup\_memory\_detail

    描述：返回当前数据库逻辑数据库使用内存的信息，单位为MB得到一个逻辑数据

    库。

    返回值类型：setof record

-   local\_redo\_time\_count\(\)

    描述：返回本节点各个回放线程的各个流程的耗时统计（仅在备机上有有效数据）。

    返回值如下：

    local\_redo\_time\_count返回参数说明。

    <a name="table37771537184514"></a>
    <table><thead align="left"><tr id="row8772103711458"><th class="cellrowborder" valign="top" width="38.42%" id="mcps1.1.3.1.1"><p id="p9772337104511"><a name="p9772337104511"></a><a name="p9772337104511"></a>字段名</p>
    </th>
    <th class="cellrowborder" valign="top" width="61.58%" id="mcps1.1.3.1.2"><p id="p1772937194512"><a name="p1772937194512"></a><a name="p1772937194512"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row12772737204520"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p9772193724512"><a name="p9772193724512"></a><a name="p9772193724512"></a>thread_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p17772137114516"><a name="p17772137114516"></a><a name="p17772137114516"></a>线程名字</p>
    </td>
    </tr>
    <tr id="row167723378458"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p2077223713454"><a name="p2077223713454"></a><a name="p2077223713454"></a>step1_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p2077233794518"><a name="p2077233794518"></a><a name="p2077233794518"></a>step1的总时间，每个线程对应的流程如下：</p>
    <p id="p37721737194516"><a name="p37721737194516"></a><a name="p37721737194516"></a>极致RTO：</p>
    <a name="ul6912204818401"></a><a name="ul6912204818401"></a><ul id="ul6912204818401"><li>batch redo：从队列中获取一条日志</li><li>redo manager：从队列中获取一条日志</li><li>redo worker：从队列中获取一条日志</li><li>trxn manager：从队列中读取一条日志</li><li>trxn worker：从队列中读取一条日志</li><li>read worker：从文件中读取一次xlog page（整体）</li><li>read page worker：从队列中获取一个日志</li><li>startup：从队列中获取一个日志</li></ul>
    <p id="p1577223714459"><a name="p1577223714459"></a><a name="p1577223714459"></a>并行回放：</p>
    <a name="ul1078315813405"></a><a name="ul1078315813405"></a><ul id="ul1078315813405"><li>page redo：从队列中获取一条日志</li><li>startup：读取一条日志</li></ul>
    </td>
    </tr>
    <tr id="row4773203719459"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1777311379451"><a name="p1777311379451"></a><a name="p1777311379451"></a>step1_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p67731937174511"><a name="p67731937174511"></a><a name="p67731937174511"></a>step1的统计次数</p>
    </td>
    </tr>
    <tr id="row577312373457"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p677373720458"><a name="p677373720458"></a><a name="p677373720458"></a>step2_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p4773737124512"><a name="p4773737124512"></a><a name="p4773737124512"></a>step2的总时间，每个线程对应的流程如下：</p>
    <p id="p1377393715455"><a name="p1377393715455"></a><a name="p1377393715455"></a>极致RTO：</p>
    <a name="ul07451057415"></a><a name="ul07451057415"></a><ul id="ul07451057415"><li>batch redo：处理日志（整体）</li><li>redo manager：处理日志（整体）</li><li>redo worker：处理日志（整体）</li><li>trxn manager：处理日志（整体）</li><li>trxn worker：处理日志（整体）</li><li>redo worker：读取xlog page耗时</li><li>read page worker：生成和发送lsn forwarder</li><li>startup：check stop(是否回放到指定位置）</li></ul>
    <p id="p1773123720453"><a name="p1773123720453"></a><a name="p1773123720453"></a>并行回放：</p>
    <a name="ul155891392413"></a><a name="ul155891392413"></a><ul id="ul155891392413"><li>page redo：处理日志（整体）</li><li>startup：check stop(是否回放到指定位置）</li></ul>
    </td>
    </tr>
    <tr id="row1377383784518"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p9773123720456"><a name="p9773123720456"></a><a name="p9773123720456"></a>step2_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p19773163734515"><a name="p19773163734515"></a><a name="p19773163734515"></a>step2的统计次数</p>
    </td>
    </tr>
    <tr id="row677410371452"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1773123718458"><a name="p1773123718458"></a><a name="p1773123718458"></a>step3_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p37731137104516"><a name="p37731137104516"></a><a name="p37731137104516"></a>step3的总时间，每个线程对应的流程如下：</p>
    <p id="p77731337164513"><a name="p77731337164513"></a><a name="p77731337164513"></a>极致RTO：</p>
    <a name="ul5493115114118"></a><a name="ul5493115114118"></a><ul id="ul5493115114118"><li>batch redo：更新standbystate</li><li>redo manager：数据日志处理</li><li>redo worker：回放page也日志（整体）</li><li>trxn manager：更新flush lsn</li><li>trxn worker：回放日志处理</li><li>redo worker：推进xlog segment</li><li>read page worker：获取一个新的item</li><li>startup：redo delay（延迟回放特性等待时间）</li></ul>
    <p id="p127741137134519"><a name="p127741137134519"></a><a name="p127741137134519"></a>并行回放：</p>
    <a name="ul4564121954113"></a><a name="ul4564121954113"></a><ul id="ul4564121954113"><li>page redo：更新standbystate</li><li>startup：redo delay（延迟回放特性等待时间）</li></ul>
    </td>
    </tr>
    <tr id="row477463704512"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1977410370452"><a name="p1977410370452"></a><a name="p1977410370452"></a>step3_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p15774133710452"><a name="p15774133710452"></a><a name="p15774133710452"></a>step3的统计次数</p>
    </td>
    </tr>
    <tr id="row277417375451"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p10774537194511"><a name="p10774537194511"></a><a name="p10774537194511"></a>step4_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p97746379452"><a name="p97746379452"></a><a name="p97746379452"></a>step4的总时间，每个线程对应的流程如下：</p>
    <p id="p127741378453"><a name="p127741378453"></a><a name="p127741378453"></a>极致RTO：</p>
    <a name="ul6814102413413"></a><a name="ul6814102413413"></a><ul id="ul6814102413413"><li>batch redo：解析xlog</li><li>redo manager：DDL处理</li><li>redo worker：读取数据page页</li><li>trxn manager：同步等待时间</li><li>trxn worker：更新本线程lsn</li><li>read page worker：将日志放入分发线程</li><li>startup：分发（整体）</li></ul>
    <p id="p12774937114518"><a name="p12774937114518"></a><a name="p12774937114518"></a>并行回放：</p>
    <a name="ul1163412282411"></a><a name="ul1163412282411"></a><ul id="ul1163412282411"><li>page redo：undo 日志回放</li><li>startup：分发（整体）</li></ul>
    </td>
    </tr>
    <tr id="row117751337174514"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p477423764513"><a name="p477423764513"></a><a name="p477423764513"></a>step4_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p87751037104519"><a name="p87751037104519"></a><a name="p87751037104519"></a>step4的统计次数</p>
    </td>
    </tr>
    <tr id="row577563754514"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1775337104512"><a name="p1775337104512"></a><a name="p1775337104512"></a>step5_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p16775153710452"><a name="p16775153710452"></a><a name="p16775153710452"></a>step5的总时间，每个线程对应的流程如下：</p>
    <p id="p177593794511"><a name="p177593794511"></a><a name="p177593794511"></a>极致RTO：</p>
    <a name="ul1740675419439"></a><a name="ul1740675419439"></a><ul id="ul1740675419439"><li>batch redo：分发给redo manager</li><li>redo manager：分发给redo worker</li><li>redo worker：回放数据page页的日志</li><li>trxn manager：分发给trxn worker</li><li>trxn worker：强同步wait时间</li><li>read page worker：更新本线程lsn</li><li>startup：日志decode</li></ul>
    <p id="p8775103724516"><a name="p8775103724516"></a><a name="p8775103724516"></a>并行回放：</p>
    <a name="ul113271406444"></a><a name="ul113271406444"></a><ul id="ul113271406444"><li>page redo：sharetrxn 日志回放</li><li>startup：日志回放</li></ul>
    </td>
    </tr>
    <tr id="row17775173711457"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p12775337184518"><a name="p12775337184518"></a><a name="p12775337184518"></a>step5_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p14775133720450"><a name="p14775133720450"></a><a name="p14775133720450"></a>step5的统计次数</p>
    </td>
    </tr>
    <tr id="row777613744513"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p277512379454"><a name="p277512379454"></a><a name="p277512379454"></a>step6_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p13775737124519"><a name="p13775737124519"></a><a name="p13775737124519"></a>step6的总时间，每个线程对应的流程如下：</p>
    <p id="p18775737134519"><a name="p18775737134519"></a><a name="p18775737134519"></a>极致RTO：</p>
    <a name="ul174916534412"></a><a name="ul174916534412"></a><ul id="ul174916534412"><li>redo worker：回放非数据页page日志</li><li>trxn manager：全局lsn更新</li><li>read page worker：日志crc校验</li></ul>
    <p id="p37751637124513"><a name="p37751637124513"></a><a name="p37751637124513"></a>并行回放：</p>
    <a name="ul1562069114414"></a><a name="ul1562069114414"></a><ul id="ul1562069114414"><li>page redo：synctrxn 日志回放</li><li>startup：强同步等待</li></ul>
    </td>
    </tr>
    <tr id="row3776113718452"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p677693711457"><a name="p677693711457"></a><a name="p677693711457"></a>step6_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p137761337144510"><a name="p137761337144510"></a><a name="p137761337144510"></a>step6的统计次数</p>
    </td>
    </tr>
    <tr id="row2077619374452"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p777663717452"><a name="p777663717452"></a><a name="p777663717452"></a>step7_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p2776113716452"><a name="p2776113716452"></a><a name="p2776113716452"></a>step7的总时间，每个线程对应的流程如下：</p>
    <p id="p13776337114515"><a name="p13776337114515"></a><a name="p13776337114515"></a>极致RTO：</p>
    <p id="p187761937174513"><a name="p187761937174513"></a><a name="p187761937174513"></a>redo worker：fsm更新</p>
    <p id="p20776133711455"><a name="p20776133711455"></a><a name="p20776133711455"></a>并行回放：</p>
    <p id="p19776037114515"><a name="p19776037114515"></a><a name="p19776037114515"></a>page redo：single 日志回放</p>
    </td>
    </tr>
    <tr id="row47762377453"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1777617374454"><a name="p1777617374454"></a><a name="p1777617374454"></a>step7_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p11776173719459"><a name="p11776173719459"></a><a name="p11776173719459"></a>step7的统计次数</p>
    </td>
    </tr>
    <tr id="row13776337114514"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p147761737194516"><a name="p147761737194516"></a><a name="p147761737194516"></a>step8_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p13776133716452"><a name="p13776133716452"></a><a name="p13776133716452"></a>step8的总时间，每个线程对应的流程如下：</p>
    <p id="p477613774513"><a name="p477613774513"></a><a name="p477613774513"></a>极致RTO：</p>
    <p id="p27769371458"><a name="p27769371458"></a><a name="p27769371458"></a>redo worker：强同步等待</p>
    <p id="p1177693754517"><a name="p1177693754517"></a><a name="p1177693754517"></a>并行回放：</p>
    <p id="p15776153714454"><a name="p15776153714454"></a><a name="p15776153714454"></a>page redo：all workers do 日志回放</p>
    </td>
    </tr>
    <tr id="row167769378457"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p2077617372453"><a name="p2077617372453"></a><a name="p2077617372453"></a>step8_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p577673714452"><a name="p577673714452"></a><a name="p577673714452"></a>step8的统计次数</p>
    </td>
    </tr>
    <tr id="row1177715370454"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p1377693716458"><a name="p1377693716458"></a><a name="p1377693716458"></a>step9_total</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p57771437134519"><a name="p57771437134519"></a><a name="p57771437134519"></a>step9的总时间，每个线程对应的流程如下：</p>
    <p id="p577714375458"><a name="p577714375458"></a><a name="p577714375458"></a>极致RTO：</p>
    <p id="p13777537184520"><a name="p13777537184520"></a><a name="p13777537184520"></a>无</p>
    <p id="p37771837194517"><a name="p37771837194517"></a><a name="p37771837194517"></a>并行回放：</p>
    <p id="p19777103718453"><a name="p19777103718453"></a><a name="p19777103718453"></a>page redo：muliti workers do 日志回放</p>
    </td>
    </tr>
    <tr id="row7777337174516"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.1.3.1.1 "><p id="p177733704519"><a name="p177733704519"></a><a name="p177733704519"></a>step9_count</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.1.3.1.2 "><p id="p677719379452"><a name="p677719379452"></a><a name="p677719379452"></a>step9的统计次数</p>
    </td>
    </tr>
    </tbody>
    </table>

-   local\_xlog\_redo\_statics\(\)

    描述：返回本节点已经回放的各个类型类型的日志统计信息（仅在备机上有有效数据）。

    返回值如下：

    **表 9**  local\_xlog\_redo\_statics返回参数说明

    <a name="table178991126154511"></a>
    <table><thead align="left"><tr id="row089812612452"><th class="cellrowborder" valign="top" width="38.42%" id="mcps1.2.3.1.1"><p id="p20897726154512"><a name="p20897726154512"></a><a name="p20897726154512"></a>字段名</p>
    </th>
    <th class="cellrowborder" valign="top" width="61.58%" id="mcps1.2.3.1.2"><p id="p12897152612453"><a name="p12897152612453"></a><a name="p12897152612453"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row489810266455"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.2.3.1.1 "><p id="p13898726184512"><a name="p13898726184512"></a><a name="p13898726184512"></a>xlog_type</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.2.3.1.2 "><p id="p14898132684513"><a name="p14898132684513"></a><a name="p14898132684513"></a>日志类型</p>
    </td>
    </tr>
    <tr id="row168986267459"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.2.3.1.1 "><p id="p98987264455"><a name="p98987264455"></a><a name="p98987264455"></a>rmid</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.2.3.1.2 "><p id="p989862610458"><a name="p989862610458"></a><a name="p989862610458"></a>resource manager id</p>
    </td>
    </tr>
    <tr id="row0898426194510"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.2.3.1.1 "><p id="p2898122694520"><a name="p2898122694520"></a><a name="p2898122694520"></a>info</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.2.3.1.2 "><p id="p1289832634511"><a name="p1289832634511"></a><a name="p1289832634511"></a>xlog operation</p>
    </td>
    </tr>
    <tr id="row1089912616457"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.2.3.1.1 "><p id="p19898726104517"><a name="p19898726104517"></a><a name="p19898726104517"></a>num</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.2.3.1.2 "><p id="p68992268452"><a name="p68992268452"></a><a name="p68992268452"></a>日志个数</p>
    </td>
    </tr>
    <tr id="row14899182684517"><td class="cellrowborder" valign="top" width="38.42%" headers="mcps1.2.3.1.1 "><p id="p158995264457"><a name="p158995264457"></a><a name="p158995264457"></a>extra</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.58%" headers="mcps1.2.3.1.2 "><p id="p20899326154511"><a name="p20899326154511"></a><a name="p20899326154511"></a>针对page回放日志和xact日志有有效值。page页回放日志标识从磁盘读取page的个数。xact日志表示删除文件的个数。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   gs\_get\_shared\_memctx\_detail\(text\)

    描述：返回指定内存上下文上的内存申请的详细信息，包含每一处内存申请所在的文件、行号和大小（同一文件同一行大小会做累加）。只支持查询通过pg\_shared\_memory\_detail视图查询出来的内存上下文，入参为内存上下文名称（即pg\_shared\_memory\_detail返回结果的contextname列）。查询该函数必须具有sysadmin权限或者monitor admin权限。

    返回值类型：setof record

    <a name="table119476261700"></a>
    <table><thead align="left"><tr id="row69478262010"><th class="cellrowborder" valign="top" width="21.67%" id="mcps1.1.4.1.1"><p id="p4948132617012"><a name="p4948132617012"></a><a name="p4948132617012"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.47%" id="mcps1.1.4.1.2"><p id="p8948122613019"><a name="p8948122613019"></a><a name="p8948122613019"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="65.86%" id="mcps1.1.4.1.3"><p id="p694832616014"><a name="p694832616014"></a><a name="p694832616014"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1994817261015"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p894842614011"><a name="p894842614011"></a><a name="p894842614011"></a>file</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p794811261018"><a name="p794811261018"></a><a name="p794811261018"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p1994810261008"><a name="p1994810261008"></a><a name="p1994810261008"></a>申请内存所在文件的文件名。</p>
    </td>
    </tr>
    <tr id="row1494892619013"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p1494810267016"><a name="p1494810267016"></a><a name="p1494810267016"></a>line</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p11948426309"><a name="p11948426309"></a><a name="p11948426309"></a>int8</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p129481626002"><a name="p129481626002"></a><a name="p129481626002"></a>申请内存所在文件的代码行号。</p>
    </td>
    </tr>
    <tr id="row89482261803"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p1894820262017"><a name="p1894820262017"></a><a name="p1894820262017"></a>size</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p1294842611017"><a name="p1294842611017"></a><a name="p1294842611017"></a>int8</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p9949132618015"><a name="p9949132618015"></a><a name="p9949132618015"></a>申请的内存大小，同一文件同一行多次申请会做累加。</p>
    </td>
    </tr>
    </tbody>
    </table>

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >该视图不支持release版本小型化场景。

-   gs\_get\_history\_memory\_detail\(cstring\)

    描述：查询历史内存快照信息，入参类型为cstring，取值为NULL或内存快照log文件名称：

    1.  若入参为NULL，则显示当前节点所有的内存快照log文件列表。
    2.  若入参为1查询到的列表中的内存快照log名称，则显示该log文件记录的内存快照详细信息。
    3.  若输入其他入参，则会提示入参错误或打开文件失败。  
    
    查询该函数必须具有sysadmin权限或者monitor admin权限。
    
    返回值类型：text
    
    <table><thead align="left"><tr id="row17603538458"><th class="cellrowborder" valign="top" width="21.67%" id="mcps1.1.4.1.1"><p id="p1260353124518"><a name="p1260353124518"></a><a name="p1260353124518"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.46%" id="mcps1.1.4.1.2"><p id="p136175364512"><a name="p136175364512"></a><a name="p136175364512"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="65.86999999999999%" id="mcps1.1.4.1.3"><p id="p1611353144513"><a name="p1611353144513"></a><a name="p1611353144513"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row15611853124510"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p2618538456"><a name="p2618538456"></a><a name="p2618538456"></a>memory_info</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.46%" headers="mcps1.1.4.1.2 "><p id="p196117531458"><a name="p196117531458"></a><a name="p196117531458"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86999999999999%" headers="mcps1.1.4.1.3 "><p id="p461105314510"><a name="p461105314510"></a><a name="p461105314510"></a>内存信息，如果函数入参为NULL，该列显示内存快照文件列表信息；入参为内存快照文件名称，则显示该文件的具体内容。</p>
    </td>
    </tr>
    </tbody>
    </table>



-   gs\_stack\(\)

    描述：显示线程调用栈。查询该函数需要有sysadmin权限或者monadmin权限。

    参数：tid，线程id。tid是可选参数，指定tid参数时，函数返回tid对应线程调用栈；当不指定tid参数时，函数返回所有线程的调用栈。

    返回值：当指定tid时，返回值为text；当不指定tid时，返回值为setof record。
    
    示例：
    
    ```
    openGauss=# SELECT gs_stack(139663481165568);
                                  gs_stack
    --------------------------------------------------------------------
     __poll + 0x2d                                                     +
     WaitLatchOrSocket(Latch volatile*, int, int, long) + 0x29f        +
     WaitLatch(Latch volatile*, int, long) + 0x2e                      +
     JobScheduleMain() + 0x90f                                         +
     int GaussDbThreadMain<(knl_thread_role)9>(knl_thread_arg*) + 0x456+
     InternalThreadFunc(void*) + 0x2d                                  +
     ThreadStarterFunc(void*) + 0xa4                                   +
     start_thread + 0xc5                                               +
     clone + 0x6d                                                      +
    (1 row)
    ```
    
    
    
-   gs\_get\_session\_memctx\_detail\(text\)

    描述：返回指定内存上下文上的内存申请的详细信息，包含每一处内存申请所在的文件、行号和大小（同一文件同一行大小会做累加）。仅在线程池模式下生效。只支持查询通过gs\_session\_memory\_context视图查询出来的内存上下文，入参为内存上下文名称（即gs\_session\_memory\_context返回结果的contextname列）。查询该函数必须具有sysadmin权限或者monitor admin权限。

    返回值类型：setof record

    <a name="table210123512516"></a>
    <table><thead align="left"><tr id="row5113358519"><th class="cellrowborder" valign="top" width="21.67%" id="mcps1.1.4.1.1"><p id="p1111735959"><a name="p1111735959"></a><a name="p1111735959"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.47%" id="mcps1.1.4.1.2"><p id="p6111135557"><a name="p6111135557"></a><a name="p6111135557"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="65.86%" id="mcps1.1.4.1.3"><p id="p1911183510510"><a name="p1911183510510"></a><a name="p1911183510510"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row3114351353"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p71111351054"><a name="p71111351054"></a><a name="p71111351054"></a>file</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p1711153512519"><a name="p1711153512519"></a><a name="p1711153512519"></a>text</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p91183512513"><a name="p91183512513"></a><a name="p91183512513"></a>申请内存所在文件的文件名。</p>
    </td>
    </tr>
    <tr id="row14113356512"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p121173511515"><a name="p121173511515"></a><a name="p121173511515"></a>line</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p3111357513"><a name="p3111357513"></a><a name="p3111357513"></a>int8</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p6114358519"><a name="p6114358519"></a><a name="p6114358519"></a>申请内存所在文件的代码行号。</p>
    </td>
    </tr>
    <tr id="row1511173511512"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p21173511510"><a name="p21173511510"></a><a name="p21173511510"></a>size</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p7124351759"><a name="p7124351759"></a><a name="p7124351759"></a>int8</p>
    </td>
    <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p612235452"><a name="p612235452"></a><a name="p612235452"></a>申请的内存大小，同一文件同一行多次申请会做累加。</p>
    </td>
    </tr>
    </tbody>
    </table>

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >该视图仅在线程池模式下生效，且该视图不支持release版本小型化场景。

- gs\_get\_thread\_memctx\_detail\(tid,text\)

  描述：返回指定内存上下文上的内存申请的详细信息，包含每一处内存申请所在的文件，行号和大小（同一文件同一行大小会做累加）。只支持查询通过gs\_thread\_memory\_context视图查询出来的内存上下文，第一个入参为线程id（即gs\_thread\_memory\_context返回数据的tid列），第二个参数为内存上下文名称（即gs\_thread\_memory\_context返回数据的contextname列）。查询该函数必须具有sysadmin权限或者monitor admin权限。

  返回值类型：setof record

  <a name="table1423513502054"></a>
  <table><thead align="left"><tr id="row102352501755"><th class="cellrowborder" valign="top" width="21.67%" id="mcps1.1.4.1.1"><p id="p132351350652"><a name="p132351350652"></a><a name="p132351350652"></a>名称</p>
  </th>
  <th class="cellrowborder" valign="top" width="12.47%" id="mcps1.1.4.1.2"><p id="p122356500518"><a name="p122356500518"></a><a name="p122356500518"></a>类型</p>
  </th>
  <th class="cellrowborder" valign="top" width="65.86%" id="mcps1.1.4.1.3"><p id="p8235185018510"><a name="p8235185018510"></a><a name="p8235185018510"></a>描述</p>
  </th>
  </tr>
  </thead>
  <tbody><tr id="row623512501155"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p3236350851"><a name="p3236350851"></a><a name="p3236350851"></a>file</p>
  </td>
  <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p923665012519"><a name="p923665012519"></a><a name="p923665012519"></a>text</p>
  </td>
  <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p923615019515"><a name="p923615019515"></a><a name="p923615019515"></a>申请内存所在文件的文件名。</p>
  </td>
  </tr>
  <tr id="row823614501055"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p18236195011518"><a name="p18236195011518"></a><a name="p18236195011518"></a>line</p>
  </td>
  <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p11236135012514"><a name="p11236135012514"></a><a name="p11236135012514"></a>int8</p>
  </td>
  <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p5236250454"><a name="p5236250454"></a><a name="p5236250454"></a>申请内存所在文件的代码行号。</p>
  </td>
  </tr>
  <tr id="row12236350256"><td class="cellrowborder" valign="top" width="21.67%" headers="mcps1.1.4.1.1 "><p id="p62364506517"><a name="p62364506517"></a><a name="p62364506517"></a>size</p>
  </td>
  <td class="cellrowborder" valign="top" width="12.47%" headers="mcps1.1.4.1.2 "><p id="p1623655013520"><a name="p1623655013520"></a><a name="p1623655013520"></a>int8</p>
  </td>
  <td class="cellrowborder" valign="top" width="65.86%" headers="mcps1.1.4.1.3 "><p id="p323610502051"><a name="p323610502051"></a><a name="p323610502051"></a>申请的内存大小，单位为byte，同一文件同一行多次申请会做累加。</p>
  </td>
  </tr>
  </tbody>
  </table>

2. 若入参为[1](#li1243494093015)查询到的列表中的内存快照log名称，则显示该log文件记录的内存快照详细信息。

   3.  若输入其他入参，则会提示入参错误或打开文件失败。

   查询该函数必须具有sysadmin权限或者monitor admin权限。

   返回值类型：text


  >![](public_sys-resources/icon-note.gif) **说明：** 
  >该视图不支持release版本小型化场景。

-   DBE_PERF.standby_statement_history(bool \[, time1, time2\])

    参数：
    - bool only_slow：是否仅查询慢SQL，true为是，false或NULL为查询全部SQL。
    - VARIADIC timestamptz finish_time: 可选输入，最多输入两个时间time1, time2，表示查询的SQL的finish_time所属时间段。

    描述：备机中用来查询FULL SQL记录的函数，主机通过表statement_history进行查询，备机通过此函数进行查询。只有初始用户或者具有monadmin权限的用户可以执行该函数。

    返回值类型：record，同表statement_history。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    > 
    > - 第一个bool参数的说明： true表示仅查询慢sql，相当于 select .. where is_slow_sql = true; false或NULL表示查询全部SQL，相当于不对is_slow_sql进行过滤。
    > 
    > - 两个时间参数time1 time2的说明：表示查询的SQL的finish_time所属时间段, 分别表示起始与终止时间, 输入NULL或者不输入表示没有限制, 功能等同与 select .. where finish_time between time1 and time2。
    > 
    > - 备机上数据并非存在表里，不存在start_time列的索引，推荐使用参数对finish_time进行条件查找，内部有对这进行一些性能的优化。但注意修改了系统时间可能会导致此功能不准确。
    > 
    > - 查询结果基本会是按照finish_time自动进行降序（新到旧）排序的。
    > 
    > - 除了FunctionScan算子计算过程本身之外，对于数据的扫描会额外占用16或32M内存来做一个临时buffer。
    > 
    > - 此函数的稳定性等级为'v'。
    > 
    > - 由于备机Full SQL采用异步下盘方式，所以用户SQL信息存储时刻可能有所滞后，建议客户查询此接口适当扩大时间查询范围。
