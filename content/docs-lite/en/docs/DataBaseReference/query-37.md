# Query<a name="EN-US_TOPIC_0289900490"></a>

## instr\_unique\_sql\_count<a name="en-us_topic_0283137149_en-us_topic_0237124756_section983311682019"></a>

**Parameter description**: Specifies the maximum number of Unique SQL records to be collected. The value  **0**  indicates that the function of collecting Unique SQL information is disabled.

If the value is changed from a larger one to a smaller one, the original data in the system will be cleared and re-collected \(the standby node does not support this function\). There is no impact if the value is changed from a smaller one to a larger one.

If the number of unique SQL entries generated in the system is greater than  **instr\_unique\_sql\_count**  and the function of automatically eliminating unique SQL entries is enabled, the system automatically eliminates a certain proportion of entries based on the update time of unique SQL statements in descending order. In this way, new unique SQL entries can be collected. If the automatic elimination function is not enabled, new unique SQL information generated by the system will not be collected.

In the x86-based centralized deployment scenario, the hardware configuration specifications are 32U256G memory. When the Benchmark SQL 5.0 tool is used to test performance, the performance fluctuates by about 3% by enabling or disabling this parameter.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: an integer ranging from 0 to 2147483647

**Default value**:  **100**

>![](public_sys-resources/icon-caution.gif) **CAUTION:** 
>-   If the automatic elimination function is enabled and this parameter is set to a small value, the system may frequently perform automatic elimination, which may affect the database system performance. Therefore, you are advised to set this parameter to  **200000**.
>-   If automatic elimination is enabled and this parameter is set to a large value \(for example, 38347922\), a large memory problem may occur during the clearance. As a result, the clearance fails.

## instr\_unique\_sql\_track\_type<a name="en-us_topic_0283137149_en-us_topic_0237124756_section88591117185212"></a>

**Parameter description**: Specifies which SQL statements are recorded in Unique SQL.

This parameter is an INTERNAL parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: enumerated values

**top**: Only top-level SQL statements are recorded.

**Default value**:  **top**

## enable\_instr\_rt\_percentile<a name="en-us_topic_0283137149_en-us_topic_0237124756_section137313294592"></a>

**Parameter description**: Specifies whether to enable the function of calculating the response time of 80% and 95% SQL statements in the system.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

-   **on**  indicates that the function of calculating the response time of 80% and 95% SQL statements is enabled.
-   **off**  indicates that the function of calculating the response time of 80% and 95% SQL statements is disabled.

**Default value**:  **off**

## percentile<a name="en-us_topic_0283137149_en-us_topic_0237124756_section193531235231"></a>

**Parameter description**: Specifies the percentage of SQL statements whose response time is to be calculated by the background calculation thread.

This parameter is an INTERNAL parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: a string

**Default value**:  **80, 95**

## instr\_rt\_percentile\_interval<a name="en-us_topic_0283137149_en-us_topic_0237124756_section1658494717518"></a>

**Parameter description**: Specifies the interval at which the background calculation thread calculates the SQL response time.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: an integer ranging from 0 to 3600. The unit is second.

**Default value**:  **10s**

## enable\_instr\_cpu\_timer<a name="en-us_topic_0283137149_en-us_topic_0237124756_section1261620172577"></a>

**Parameter description**: Specifies whether to capture the CPU time consumed during SQL statement execution.

In the x86-based centralized deployment scenario, the hardware configuration specifications are 32U256G. When the Benchmark SQL 5.0 tool is used to test performance, the performance fluctuates by about 3.5% by enabling or disabling this parameter.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

-   **on**  indicates the CPU time consumed during SQL statement execution is captured.
-   **off**  indicates the CPU time consumed during SQL statement execution is not captured.

**Default value**:  **on**

## enable\_stmt\_track<a name="section148515311729"></a>

**Parameter description**: Specifies whether to enable the full/slow SQL statement feature.

In the x86-based centralized deployment scenario, the hardware configuration specifications are 32U256G. When the Benchmark SQL 5.0 tool is used to test performance, the performance fluctuates by about 1.2% by enabling or disabling this parameter.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

-   on: Full/Slow SQL capture is enabled.
-   off: Full /Slow SQL capture is disabled.

**Default value**:  **off**

## track\_stmt\_parameter<a name="section12141123162714"></a>

**Parameter description**: After  **track\_stmt\_parameter**  is enabled, the executed statements recorded in  **statement\_history**  are not normalized. The complete SQL statement information can be displayed to help the database administrator locate problems. For a simple query, the complete statement information is displayed. For a PBE statement, the complete statement information and information about each variable value are displayed. The format is query string; parameters:$1=value1,$2=value2, ....

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

-   **on**: The function of displaying complete SQL statement information is enabled.
-   **off**: The function of displaying complete SQL statement information is disabled.

Default value:  **off**

## track\_stmt\_session\_slot<a name="section1768054315510"></a>

**Parameter description**: Specifies the maximum number of full/slow SQL statements that can be cached in a session. If the number of full/slow SQL statements exceeds this value, new statements will not be traced until the flush thread flushes the cached statements to the disk to reserve idle space.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: an integer ranging from 0 to 2147483647

**Default value**:  **1000**

## track\_stmt\_details\_size<a name="section584919463"></a>

**Parameter description**: Specifies the maximum size \(in bytes\) of execution events that can be collected by a single statement.

This parameter is a USERSET parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: an integer ranging from 0 to 100000000

**Default value**:  **4096**

## track\_stmt\_retention\_time<a name="section16119247614"></a>

**Parameter description**: Specifies the retention period of full/slow SQL statement records. This parameter is a combination of parameters. This parameter is read every 60 seconds and records exceeding the retention period are deleted. Only the sysadmin user can access this parameter.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: a string

This parameter consists of two parts in the format of 'full sql retention time, slow sql retention time'.

**full sql retention time**  indicates the retention time of full SQL statements. The value ranges from 0 to 86400.

**slow sql retention time**  indicates the retention time of slow SQL statements. The value ranges from 0 to 604800.

**Default value**:  **3600,604800**

## track\_stmt\_stat\_level<a name="section194516368610"></a>

**Parameter description**: Determines the level of statement execution tracing.

This parameter is a USERSET parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846). The value is case-insensitive.

**Value range**: a string

This parameter consists of two parts in the format of 'full sql stat level, slow sql stat level'.

The first part indicates the tracing level of full SQL statements. The value can be  **OFF**,  **L0**,  **L1**, or  **L2**.

The second part indicates the tracing level of slow SQL statements. The value can be  **OFF**,  **L0**,  **L1**, or  **L2**.

>![](public_sys-resources/icon-note.gif) **NOTE:** 
>If the full SQL tracing level is not  **OFF**, the current SQL tracing level is the higher level \(L2 \> L1 \> L0\) of the full SQL and slow SQL statements. For details about the levels, see  [Table 1](statement_history.md#table949020817280).

**Default value**:  **OFF,L0**

## enable\_auto\_clean\_unique\_sql<a name="section7679208201"></a>

**Parameter description**: Specifies whether to enable the automatic elimination function of unique SQL statements when the number of unique SQL statements generated in the system is greater than or equal to the value of  **instr\_unique\_sql\_count**.

This parameter is a POSTMASTER parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

**Default value**:  **off**

>![](public_sys-resources/icon-caution.gif) **CAUTION:** 
>Some snapshot information comes from unique SQL statements. Therefore, when automatic elimination is enabled, if the selected start snapshot and end snapshot exceed the elimination time, the WDR report cannot be generated.

## enable\_slow\_query\_log \(Discarded\)<a name="section19769519201515"></a>

**Parameter description:**  Specifies whether to write the slow query information to the log file. This parameter is discarded in this version.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

**Value range**: Boolean

-   **on**: indicates that slow query information needs to be written into log files.
-   **off**: indicates that slow query information does not need to be written into log files.

**Default value**:  **on**

## query\_log\_file \(Discarded\)<a name="en-us_topic_0059778787_s3226ae3209154e249928c24ec67c5809"></a>

**Parameter description**: If  **enable\_slow\_query\_log**  is set to  **ON**, slow query records are written into log files.  **query\_log\_file**  specifies the name of a slow query log file on the server. Only the sysadmin user can access this parameter. Generally, log file names are generated in strftime mode. Therefore, the system time can be used to define log file names, which are implemented using the escape character %. This function has been discarded in this version.

This parameter is a SIGHUP parameter. Set it based on instructions provided in  [Table 1](../DatabaseAdministrationGuide/resetting-parameters.md#en-us_topic_0283137176_en-us_topic_0237121562_en-us_topic_0059777490_t91a6f212010f4503b24d7943aed6d846).

>![](public_sys-resources/icon-notice.gif) **NOTICE:** 
>You are advised to use %-escapes to specify the log file names for efficient management of log files.

**Value range**: a string

**Default value:** **slow\_query\_log-%Y-%m-%d\_%H%M%S.log**

