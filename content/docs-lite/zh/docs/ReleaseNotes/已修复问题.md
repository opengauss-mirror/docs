opengauss 6.0.0已修复问题.md
# 已修复问题

完整问题清单请参见[完整问题清单](https://gitee.com/organizations/opengauss/issues)。

完整的内核提交记录请参见[提交记录](https://gitee.com/opengauss/openGauss-server/commits/6.0.0)。

已修复问题请参见下表。

| ISSUE                                                        | 关联仓库                                | 问题描述                                                     |
| ------------------------------------------------------------ | --------------------------------------- | ------------------------------------------------------------ |
| [I9F8F4](https://gitee.com/opengauss/Plugin/issues/I9F8F4) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】insert ignore into与prepare结合，插入重复值导致数据库core |
| [IA6VB9](https://gitee.com/opengauss/Plugin/issues/IA6VB9) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】【自动化】 备机连接兼容B库，备机core |
| [IA9N5L](https://gitee.com/opengauss/Plugin/issues/IA9N5L) | Plugin | 【测试类型：功能】【测试版本：5.0.2】在B库执行update语句产生core |
| [IAE3RW](https://gitee.com/opengauss/Plugin/issues/IAE3RW) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】在B库下创建自定义函数及存储过程，执行存储过程时导致连接断开 |
| [IAEDMO](https://gitee.com/opengauss/Plugin/issues/IAEDMO) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】timescaledb插件，在使用过程中频繁存在数据库core的问题 |
| [IAEOJV](https://gitee.com/opengauss/Plugin/issues/IAEOJV) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】 问题描述：时间日期类型+ interval time unit形式，数据库挂掉并产生core |
| [IAIVJM](https://gitee.com/opengauss/Plugin/issues/IAIVJM) | Plugin | 【测试类型：SQL功能】【测试版本：6.0.0】 问题描述:M8.0协议兼容，使用set_caching_sha2_password方式连接og数据库失败 |
| [IAE23V](https://gitee.com/opengauss/openGauss-workbench/issues/IAE23V) | openGauss-workbench |【测试类型：工具功能】【datakit】全量迁移迁移总量和校验总量，web端显示值不一致 |
| [IAE2CU](https://gitee.com/opengauss/openGauss-workbench/issues/IAE2CU) | openGauss-workbench |【测试类型：工具性能】【datakit】增量迁移性能在迁移过程中性能有明显下降 |
| [IAEK9I](https://gitee.com/opengauss/openGauss-workbench/issues/IAEK9I) | openGauss-workbench |【测试类型：安全】【测试版本：6.0.0】【安装部署】在datakit导入数据库时，日志visualtool-main.out打印数据库明文密码 |
| [IAFZ9H](https://gitee.com/opengauss/openGauss-workbench/issues/IAFZ9H) | openGauss-workbench |【测试类型：工具功能】【datakit】兼容性评估工具异常识别注释，自动把第一行注释和sql语句拼接，导致评估结果为不兼容 |
| [IAHN22](https://gitee.com/opengauss/openGauss-workbench/issues/IAHN22) | openGauss-workbench |【测试类型：工具功能】【datakit迁】反向迁移过程中主备切换，迁移数据缺失 |
| [IAMZD2](https://gitee.com/opengauss/openGauss-workbench/issues/IAMZD2) | openGauss-workbench | 【测试类型：工具功能】【datakit】创建并行安装任务时，离线上传安装包失败 |
| [IAOE7Q](https://gitee.com/opengauss/openGauss-workbench/issues/IAOE7Q) | openGauss-workbench | 【测试类型：工具功能】【datakit】创建并行安装任务时，集群名称插入超出边界值，导致页面400error，概率导致页面崩溃 |
| [IAM3PS](https://gitee.com/opengauss/openGauss-workbench/issues/IAM3PS) | openGauss-workbench | 【测试类型：工具功能】【测试版本：6.0.0】安装轻量版,企业版数据库，安装失败 |
| [IARFLG](https://gitee.com/opengauss/openGauss-workbench/issues/IARFLG) | openGauss-workbench | 【测试类型：工具功能】【datakit】创建并行安装任务，选择安装cm，配置cm端口号后点击保存，弹出登录过期的提示 |
| [IAQLWJ](https://gitee.com/opengauss/openGauss-workbench/issues/IAQLWJ) | openGauss-workbench | 【测试类型：工具功能】【测试版本：6.0.0】慢SQL诊断选择不了数据库，报错Request Error |
| [IAC1CG](https://gitee.com/opengauss/openGauss-workbench/issues/IAC1CG) | openGauss-workbench | 【测试类型：工具功能】【智能运维】告警监控，https协议触发告警后消息无法推送到页面 |
| [IAOZW6](https://gitee.com/opengauss/openGauss-workbench/issues/IAOZW6) | openGauss-workbench | 【测试类型：工具功能】【datakit】创建并行安装任务，保存为草稿后点击下一步，出现多种报错 |
| [I8Y68K](https://gitee.com/opengauss/openGauss-server/issues/I8Y68K) | openGauss-server | 【资源池化】【5.1.1】在麒麟系统上部署集群启动过程中发生coredump |
| [I9HXIT](https://gitee.com/opengauss/openGauss-server/issues/I9HXIT) | openGauss-server | 【测试类型：工具功能】【测试版本：6.0.0】【升级】5.0.2-6.0.0灰度升级报错RROR:  cannot drop extension "dolphin" because it is being modified |
| [I9J6G5](https://gitee.com/opengauss/openGauss-server/issues/I9J6G5) | openGauss-server | pageinspect 插件在段页式表上执行 core  |
| [I9N3E8](https://gitee.com/opengauss/openGauss-server/issues/I9N3E8) | openGauss-server | 【Ustore】 开启ustore为默认存储引擎后，用例create_compositetype发生coredump |
| [I9N4LD](https://gitee.com/opengauss/openGauss-server/issues/I9N4LD) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】正常tpcc业务下，每隔一段时间会出现20s的业务阻塞，dms sleep 20s |
| [I9NS7T](https://gitee.com/opengauss/openGauss-server/issues/I9NS7T) | openGauss-server | 使用regexp_like查询出现coredump |
| [I9O8FW](https://gitee.com/opengauss/openGauss-server/issues/I9O8FW) | openGauss-server | 【ustore】oids=true建ustore表写入数据coredump |
| [I9P8H7](https://gitee.com/opengauss/openGauss-server/issues/I9P8H7) | openGauss-server | 在视图规则上创建视图导致宕机 |
| [I9PU6H](https://gitee.com/opengauss/openGauss-server/issues/I9PU6H) | openGauss-server | 【测试类型：工具功能】【测试版本：6.0.0-RC1】gs_probackup 全量备份，高并发 10000000，core dumped |
| [I9R0QM](https://gitee.com/opengauss/openGauss-server/issues/I9R0QM) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【自动化】开启WDR相关参数enable_wdr_snapshot，数据库coredump |
| [I9T57U](https://gitee.com/opengauss/openGauss-server/issues/I9T57U) | openGauss-server | 【测试类型：性能】【测试版本：6.0.0】 5月29日2p单机分区表性能不达标，下降严重 |
| [I9VNSO](https://gitee.com/opengauss/openGauss-server/issues/I9VNSO) | openGauss-server | 【测试类型：安装部署】【测试版本：6.0.0】【资源池化】openGauss6.0.0.B018转测版本资源池化安装后拉起失败 |
| [IA5HTJ](https://gitee.com/opengauss/openGauss-server/issues/IA5HTJ) | openGauss-server | 【core dump】视图列为基表列的表达式计算结果，修改基表列的变量类型后，查询视图宕机 |
| [IA5JW4](https://gitee.com/opengauss/openGauss-server/issues/IA5JW4) | openGauss-server | 【测试类型：存储功能】【测试版本：6.0.0】【存储引擎】【可靠性】极致RTO打开情况下，主机进行tpcc，备机core |
| [IA6K9L](https://gitee.com/opengauss/openGauss-server/issues/IA6K9L) | openGauss-server | 【宕机】视图关联基表后，修改基表列的类型，查询视图时core dump |
| [IA79W1](https://gitee.com/opengauss/openGauss-server/issues/IA79W1) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】执行query_page_distribution_info函数，switchover切换且新主节点查询后，原主节点CoreDump |
| [IA82T5](https://gitee.com/opengauss/openGauss-server/issues/IA82T5) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】存储复制双集群，备集群首备stop之后start再次拉起，switchover -a恢复初始集群状态时待降备节点产生BufValidateDrc的core |
| [IA8DDK](https://gitee.com/opengauss/openGauss-server/issues/IA8DDK) | openGauss-server | 【测试类型：存储功能】【测试版本：6.0.0】【可靠性】极致RTO场景下，主机执行TPCC，备机core |
| [IA8JV8](https://gitee.com/opengauss/openGauss-server/issues/IA8JV8) | openGauss-server | 【测试类型：工具功能】【测试版本：6.0.0】【UWAL】 安装完一主两备集群，部署配置uwal后，重启集群后，集群core |
| [IA8NW8](https://gitee.com/opengauss/openGauss-server/issues/IA8NW8) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】网络复制双集群，备集群执行switchover指定节点切换失败，待降备节点产生parallel_recovery::CheckAlivePageWorkers相关core |
| [IA94F2](https://gitee.com/opengauss/openGauss-server/issues/IA94F2) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】网络复制双集群，备集群执行switchover -z AZ时，偶现因page work线程退出过程因校验lsn小于落盘lsn，导致待升首备节点coredump |
| [IA9PSF](https://gitee.com/opengauss/openGauss-server/issues/IA9PSF) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】timescaledb插件，时序表查看指定的SQL执行计划时，数据库失去连接 |
| [IAA1FI](https://gitee.com/opengauss/openGauss-server/issues/IAA1FI) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】使用create package创建pipelined函数包体中赋值错误数据库core |
| [IAALCP](https://gitee.com/opengauss/openGauss-server/issues/IAALCP) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】减少work_mem后大量调用pipelined函数，数据库core |
| [IAAV6A](https://gitee.com/opengauss/openGauss-server/issues/IAAV6A) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】failover场景，kill掉主节点dn进程，待升主节点产生WAL contains references to invalid pages的core |
| [IAAYIC](https://gitee.com/opengauss/openGauss-server/issues/IAAYIC) | openGauss-server | 【测试类型：压力长稳】【测试版本：6.0.0】【资源池化】稳定性测试，800仓数据，主节点500并发读写，连跑2H后出现锁超时ERROR: Lock wait timeout |
| [IACMEO](https://gitee.com/opengauss/openGauss-server/issues/IACMEO) | openGauss-server | 【测试类型：存储功能】【测试版本：6.0.0】【可靠性】极致RTO，执行tpcc过程中，备机异常FATAL后stop |
| [IAD5JX](https://gitee.com/opengauss/openGauss-server/issues/IAD5JX) | openGauss-server | 【测试类型：SQL功能】【支持用ROWTYPE给游标赋值】给游标rowtype赋空值，挂库 |
| [IADD8P](https://gitee.com/opengauss/openGauss-server/issues/IADD8P) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】float精度，A库模式下修改精度p和数据类型导致数据精度丢失；float类型可以修改为其他数据类型 |
| [IAE2VH](https://gitee.com/opengauss/openGauss-server/issues/IAE2VH) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】【可靠性】一主两备在极致RTO&逻辑复制场景下，执行sql语句后，备机产生core |
| [IAESFW](https://gitee.com/opengauss/openGauss-server/issues/IAESFW) | openGauss-server | 【测试类型：性能】【测试版本：6.0.0】 B023版本4p单机分区表性能不足230w |
| [IAEUWA](https://gitee.com/opengauss/openGauss-server/issues/IAEUWA) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】大数据量下执行游标表达式产生core |
| [IAF9DA](https://gitee.com/opengauss/openGauss-server/issues/IAF9DA) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】网络复制双集群，备集群内switchover切换AZ级别时，偶现dw相关core |
| [IAFSFS](https://gitee.com/opengauss/openGauss-server/issues/IAFSFS) | openGauss-server | B模式下，带blob字段的表，并行逻辑解码产生coredump |
| [IAGDTA](https://gitee.com/opengauss/openGauss-server/issues/IAGDTA) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】 游标表达式内的 plan hint不生效，导致函数不并行执行 |
| [IAH9Z7](https://gitee.com/opengauss/openGauss-server/issues/IAH9Z7) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】 执行层次查询，告警后挂库，产生core |
| [IAHA5S](https://gitee.com/opengauss/openGauss-server/issues/IAHA5S) | openGauss-server | 【测试类型：SQL功能】【支持array嵌套array】嵌套数组一维数组赋类型不匹配的值，挂库，产生core |
| [IAHDTD](https://gitee.com/opengauss/openGauss-server/issues/IAHDTD) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】【升级】5.0.0/5.0.1/5.0.2/6.0.0RC1升级至6.0.0失败，报错cannot drop extension dolphin cascadely during upgrade because it may contain user data |
| [IAHP7X](https://gitee.com/opengauss/openGauss-server/issues/IAHP7X) | openGauss-server | 【测试类型：接口功能】【测试版本：6.0.0】JDBC方式，不同类型调用greatest函数，产生core |
| [IAHSR0](https://gitee.com/opengauss/openGauss-server/issues/IAHSR0) | openGauss-server | 【测试类型：故障注入】【测试版本：6.0.0】【可靠性】极致RTO场景，tpcc执行过程中，备机1注入kill -19故障10s后恢复，tpcc执行偶现异常，主机异常stop |
| [IAI407](https://gitee.com/opengauss/openGauss-server/issues/IAI407) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】【资源池化】按需回放redo节点执行create procedure失败 |
| [IAIFQL](https://gitee.com/opengauss/openGauss-server/issues/IAIFQL) | openGauss-server | 【测试类型：存储功能】【测试版本：6.0.0】【可靠性】极致RTO，执行tpcc过程中，备机异常PANIC并且core |
| [IAIIKM](https://gitee.com/opengauss/openGauss-server/issues/IAIIKM) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】 包中引用多维嵌套table，挂库，未生成corefile |
| [IAKPH4](https://gitee.com/opengauss/openGauss-server/issues/IAKPH4) | openGauss-server | 6.0.0B027版本搭建灾备集群失败 |
| [IAL2DZ](https://gitee.com/opengauss/openGauss-server/issues/IAL2DZ) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】使用普通用户（非root）安装数据库后，执行gs_om -t start报错，无法启动数据库 |
| [IAL8PX](https://gitee.com/opengauss/openGauss-server/issues/IAL8PX) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】使用普通用户（非root）安装一主两备带CM数据库，install报错，安装失败 |
| [IAL0B7](https://gitee.com/opengauss/openGauss-server/issues/IAL0B7) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】存储复制双集群，部分switchover操作超时异常导致待降备节点产生StopRecoveryWorkers wait too long的core |
| [IAFBUR](https://gitee.com/opengauss/openGauss-server/issues/IAFBUR) | openGauss-server | 【测试类型：SQL功能】【支持用ROWTYPE给游标赋值】创建使用游标rowtype的触发器函数，挂库 |
| [IA5VHJ](https://gitee.com/opengauss/openGauss-server/issues/IA5VHJ) | openGauss-server | 【测试类型：并发/压力长稳】【测试版本：6.0.0】 问题描述:长稳运行5天异常，数据库产生core |
| [IA5XKP](https://gitee.com/opengauss/openGauss-server/issues/IA5XKP) | openGauss-server | 【测试类型：并发/压力长稳】【测试版本：6.0.0】 问题描述:长稳运行，备机xlog回收慢导致磁盘满，主机停止回收日志，导致主机满，数据库异常 |
| [IAH4QN](https://gitee.com/opengauss/openGauss-server/issues/IAH4QN) | openGauss-server | 【测试类型：工具功能】【测试版本：6.0.0】【资源池化】dsscmd交互式，执行命令过程中发生coredump |
| [IAKLMO](https://gitee.com/opengauss/openGauss-server/issues/IAKLMO) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】非默认库缺少vm文件，任意DDL操作会导致挂库产生SegmentCheck failed相关core |
| [IAIK6F](https://gitee.com/opengauss/openGauss-server/issues/IAIK6F) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】【资源池化】开启备机写转发，存储过程含有写语句，备机调用时报错 |
| [IAISL3](https://gitee.com/opengauss/openGauss-server/issues/IAISL3) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】debug版本，在场景failover流程未完成时收到shutdown request导致新主节点could not locate a valid checkpoint record |
| [IAN0E0](https://gitee.com/opengauss/openGauss-server/issues/IAN0E0) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】debug版本，开启按需回放(极致RTO)，启停节点操作产生StopRecoveryWorkers wait too long的异常core |
| [IAGXGZ](https://gitee.com/opengauss/openGauss-server/issues/IAGXGZ) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】debug版本，开启按需回放+实时构建特性，failover场景产生could not locate a valid checkpoint record相关core |
| [IAINT6](https://gitee.com/opengauss/openGauss-server/issues/IAINT6) | openGauss-server | 【测试类型：SQL功能】【测试版本：6.0.0】【支持用ROWTYPE给游标赋值】包中proc调用其他包中参数为cursor%rowtype的proc，挂库，产生core |
| [IACG7W](https://gitee.com/opengauss/openGauss-server/issues/IACG7W) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】开启部分特性参数，重启使其生效，stop期间备节点产生could not open control file相关core |
| [IAJCCK](https://gitee.com/opengauss/openGauss-server/issues/IAJCCK) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】debug版本，执行单节点stop&start操作，节点在start期间因 lsn check error导致节点产生 WAL contains references to | invalid pages的core |
| [IANPRD](https://gitee.com/opengauss/openGauss-server/issues/IANPRD) | openGauss-server | 变长字段varchar(n)创建唯一索引并作为replica identity，该列有多个null值时，更新挂库 |
| [IAK1S8](https://gitee.com/opengauss/openGauss-server/issues/IAK1S8) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】debug版本，开启多个特性，stop主节点后待升主节点产生The Page's LSN[xxx] bigger than want set LSN的core |
| [IAGUPA](https://gitee.com/opengauss/openGauss-server/issues/IAGUPA) | openGauss-server | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】存储复制双集群，备集群内执行switchover -A切换操作时，待升首备节点产生memory lsn is less than lsn_on_disk相关core |
| [IAKLUG](https://gitee.com/opengauss/openGauss-OM/issues/IAKLUG) | openGauss-OM | 【测试类型：工具功能】【测试版本：6.0.0】【自动化】 预安装完成后删除了安装包script下所有gs_*文件 |
| [I9F2DX](https://gitee.com/opengauss/docs/issues/I9F2DX) | docs | 【测试类型：资料测试】【测试版本：6.0.0】极致RTO页面中存在诸多错误 |
| [I9F2OJ](https://gitee.com/opengauss/docs/issues/I9F2OJ) | docs | 【测试类型：资料测试】【测试版本：6.0.0】产品FAQ中关于极致RTO和备机可读，描述不准确 |
| [I9RIXR](https://gitee.com/opengauss/docs/issues/I9RIXR) | docs | 【测试类型：功能测试】【测试版本：6.0.0】 使用Ustore表2种方式分别创建了test,test1，但是查看表信息中storage_type=ustore，同一个参数ustore，一个大写一个小写 |
| [I9RJCJ](https://gitee.com/opengauss/docs/issues/I9RJCJ) | docs | 【测试类型：资料测试】【测试版本：6.0.0】  Ustore表不支持列存储和段页式存储，创表失败Error信息及官网资料需要优化  |
| [I9T821](https://gitee.com/opengauss/docs/issues/I9T821) | docs | 【测试类型：功能测试】【测试版本：6.0.0】 Astore表在enable_recyclebin=on情况下段页式表创建失败 |
| [I9KS74](https://gitee.com/opengauss/CM/issues/I9KS74) | CM | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】网络复制双集群，首备节点执行switchover -n指定节点升主超时失败，待升首备节点core |
| [I9MPY9](https://gitee.com/opengauss/CM/issues/I9MPY9) | CM | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】网络复制双集群，备集群内执行switchover指定节点切换，待降为从备节点产生[REDO_LOG_TRACE]DispatchRedoRecord could not be here config相关core |
| [IA9OCT](https://gitee.com/opengauss/CM/issues/IA9OCT) | CM | 【测试类型：功能测试】【测试版本：6.0.0】【资源池化】一主两备集群，注入dss故障，集群状态卡住 |