# 特性介绍<a name="ZH-CN_TOPIC_0289899195"></a>

-   标准SQL支持

    支持标准的SQL92/SQL99/SQL2003/SQL2011规范，支持GBK和UTF-8字符集，支持SQL标准函数与分析函数，支持存储过程。

-   数据库存储管理功能

    支持表空间，可以把不同表规划到不同的存储位置。

-   提供主备双机

    事务支持ACID特性、单节点故障恢复、双机数据同步、双机故障切换等。

-   应用程序接口

    支持标准JDBC 4.0特性、ODBC 3.5特性，支持Python、Go连接驱动，支持MySQL协议兼容。

-   管理工具

    提供安装部署工具、实例启停工具、备份恢复工具、升级工具，支持数据全生命周期生产工具DataKit，支持MySQL全量/增量/反向迁移工具和数据校验工具。

-   安全管理

    支持SSL安全网络连接、用户权限管理、密码管理、安全审计、细粒度ANY权限控制等功能，保证数据库在管理层、应用层、系统层和网络层的安全性。


## 新增特性<a name="zh-cn_topic_0283136327_section383172195410"></a>

此处说明的是openGauss 6.0.0版本，在6.0.0-RC1版本功能的基础上，新增如下特性：

- 高性能：优化主备锁机制控制粒度和有序队列加锁逻辑，提升一主一同步备场景下TPCC性能10%

  - 对SyncRepLock的控制粒度进行修改，并且对原有的WalSnder、Backends所共同控制的加锁有序队列机制进行修改，去除大粒度的加锁同步操作。
  
- 高性能：SMP并行查询增强，支持部分场景下使用游标作为参数时使用并行机制

  - 函数/PACKAGE支持指定并行相关参数，NO SCROLL游标和作为并行函数入参的游标表达式支持并行执行。

- 高性能：使用用户态网络优化北向网络，单机TPCC性能提升15%

  - 借助高性能用户态网络协议栈（Gazelle），基于区域大页划分、动态绑核、全路径零拷贝等技术，避免资源的共享开销。
  - 基于数据读写与协议处理分离的设计，避免多线程锁竞争，从而达到性能最大化。

- 高可用：逻辑复制增强

  - 逻辑复制功能新增支持Alter/Truncate/Rename 表和分区表DDL语法。

- 高安全：支持对服务启停操作进行审计、对数据库备份恢复操作进行审计

  - 数据库启停动作记录到审计日志中。
  - 逻辑备份/恢复、物理备份/恢复工具支持记录单独的审计日志。
  - 发布安全配置基线以及安全配置巡检工具。提供工具自动化检测数据库的各项配置是否符合安全指导并提供配置建议，支持自动修改不安全的参数。

- 可维护性：支持全链路跟踪能力

  - 实现追踪并记录jdbc查询接口执行sql的端到端网络耗时，并记录在数据库dbe_perf.statement视图、statement_history表中。
  - 慢SQL统计默认开启执行计划统计，降低性能损耗。
  - 增加系统函数，支持通过 gs_get_hba_conf() 获取pg_hba.conf文件中的内容。

- 企业级特性：oGEngine原位更新存储引擎增强

  - 可靠性全面增强：UPage/UBTree/Undo/分区表/闪回查询整体Bugfix&质量加固。
  - oGEngine支持极致RTO，相比并行回放，恢复性能提升35%。
  - DFX增强：oGEngine/UBTree支持数据实时校验，Undo/UBTree数据逃生。
  - 支持全局临时表。
  - 支持Vacuum Full操作。
  - 支持SMP并行查询（支持顺序扫描算子）。
  - 性能优化：大压力下性能抖动小于3%，长版本链/UBTree性能优化。
  - 存储空间利用率相比AStore提升15%。
  
- 企业级特性：SQL功能增强

  - 支持PIPELINED管道函数，函数可以返回行集合。
  - SELECT语句支持通过TABLESAMPLE子句实现对指定子分区、视图、物化视图进行数据采样。
  - 支持通过ALTER TRIGGER的方式禁用/启动单个触发器。
  - SELECT语句支持通过ROTATE和NOT ROTATE子句进行行列转换。
  - 支持通过SQL启用禁用table约束。
  - 数字支持以f/d结尾作为浮点数使用。
  - 支持 ‘NaN’ 和 ‘infinity’ 表示浮点数特殊值。
  - 支持IS [NOT] INFINITE和IS [NOT] NAN条件表达式。
  - numeric数据类型精度设置允许scale大于precision，允许scale为负数。

- 企业级特性：存储过程能力增强

  - 游标支持嵌套定义。cursor定义中可以再定义子cursor。
  - 通过TYPE语法定义动态游标 REF CURSOR 时，支持通过RETURN指定游标返回的数据类型。
  - 支持array和record嵌套。
  - 支持使用ROWTYPE给游标赋值。
  - 游标参数支持设置默认值。

- 内核工具：gs_probackup工具增强

  - gs_probackup工具支持将备份的数据和日志直接传输到远端兼容S3协议的对象存储中。

- 生态工具：支持流量录制回放功能

  - 支持流量录制回放工具，支持连接源端数据库（MySQL），采集SQL，并且向 openGauss 数据库进行 SQL 回放&压测。支持解析MySQL数据库的 General Log 表或文件、支持Attach到JAVA应用程序、支持截取和解析MySQL网络通讯包等方式采集SQL。支持多次回放并比较结果和性能。

- DataKit：迁移插件增强

  - 支持通过关联资源中心连接到数据库集群，将集群所有节点IP连接串下发到增量迁移和反向迁移工具，确保主机故障时可自动轮询切换到新主节点。
  - 支持指定表迁移，对全量迁移和增量迁移均支持，支持先将源端的表查出并展示，给用户提供勾选功能。
  
- DataKit：安装部署优化

  - Portal支持依赖包离线安装，支持对chameleon打包时对其所依赖的三方库和so统一打包。
  - 支持按文件导入方式批量添加服务器和批量添加用户。
  - 支持指定IP和端口，通过gs_om查询集群配置信息，实现对已安装数据库集群的安装。支持单一集群设置和批量导入两种方式。

- 兼容性：MySQL协议、语法兼容性增强

  6.0.0版本继续增强对MySQL的兼容，实现用户应用近似零修改迁移。

  - 支持删除表时忽略视图和表的依赖。删除表时，如果一个视图是基于该表创建的，那么删除可以正常执行，该视图会被设为非法状态，查询视图时直接报错，但可以通过\d，\d+，desc，show create view等命名查看视图状态和创建逻辑。
  - 支持straight_join，在内连接中强制左右表的顺序，以左表驱动右表，而不是以开销大小驱动优化器选择执行顺序。
  - 支持interval内部表达式运算、列引用、预编译绑定参数用法。
  - performance、shrink关键字从保留字降级为非保留（不能是函数或类型）关键字。
  - 兼容MySQL 8.0协议。