# 支持SCRLock特性<a name="ZH-CN_TOPIC_0000001673853690"></a>

## 可获得性<a name="zh-cn_topic_0000001721808553_section14611198203513"></a>

本特性自openGauss 5.1.1版本开始引入。

## 特性简介<a name="zh-cn_topic_0000001721808553_section1044295211352"></a>

在资源池化场景下使用SCRLock提供分布式锁能力，提高分布式锁性能。

## 客户价值<a name="zh-cn_topic_0000001721808553_section38042903613"></a>

随着数据规模和数据节点的增加，节点之间获取分布式锁需要消耗很多事件，影响到客户端到端的数据库体验，利用SCRLock特性，可以大幅度降低分布式锁远端时延，并且提供公平性，防止节点处于永久性等待的现象。

## 特性描述<a name="zh-cn_topic_0000001721808553_section595563813616"></a>

openGauss资源池化使用基于TCP协议的被动模式分布式锁，具有网络时延高，加锁流程复杂等劣势，影响业务获取锁的性能。SCRLock提供基于RDMA协议的主动模式分布式锁，通过RDMA加速网络提高获取锁的效率，主动模式也带来了流程简单的天然优势；SCRLock提供了锁的公平性，可以防止集群中出现永久性等待的现象；SCRLock同时提供本地锁缓存能力，减少远端锁获取频次，从而降低时延。

## 特性增强<a name="zh-cn_topic_0000001721808553_section190946203720"></a>

无。

## 特性约束<a name="zh-cn_topic_0000001721808553_section011116254373"></a>

数据库服务器必须使用Mellanox CX4/CX5网卡。

## 依赖关系<a name="zh-cn_topic_0000001721808553_section12798194673710"></a>

SCRLock依赖资源池化特性。当用户设置guc参数“ss\_enable\_dms“  =  “on“、“ss\_enable\_dss“  =  “on“时，打开DMS和DSS组件，方可使用SCRLock分布式锁特性。

