# 支持I层高时延逃生能力

## 可获得性<a name="section41616539"></a>

本特性自openGauss 3.0.0版本开始引入。

## 特性简介<a name="section39004531"></a>

I层异常会导致数据库SQL执行时延升高，进而导致内存或者线程池出现过载问题，针对此场景openGauss支持自动逃生能力。

## 客户价值<a name="section15496459"></a>

当数据库由于I层异常导致SQL执行时延升高，会话堆积，内存或线程池过载无法对外提供服务时，能够快速实现逃生，短时间内恢复对外提供服务的能力。

## 特性描述<a name="section5250404"></a>

-   数据库内存出现过载问题时，快速kill会话并禁止新连接接入，待内存恢复正常状态后恢复对外服务能力。内存过载和恢复正常的内存阈值通过参数resilience\_memory\_reject\_percent设置，默认关闭该功能。
-   数据库堆积会话超过线程池可承受能力时，快速kill会话并禁止新连接接入，待会话数降低到线程池可承受能力时恢复对外服务能力。线程池过载和恢复正常的线程池会话阈值通过参数resilience\_threadpool\_reject\_cond设置，默认关闭该功能。

## 特性增强<a name="section47253639"></a>

无。

## 特性约束<a name="section06531946143616"></a>

-   内存或者线程池过载触发逃生能力时，不对sysadmin或monitoradmin权限的用户的session做清理操作。
-   升级模式下，不触发该特性功能。

## 依赖关系<a name="section22629574"></a>

无。

